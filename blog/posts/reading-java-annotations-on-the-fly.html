<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no, viewport-fit=cover"/><title>Nadun De Silva | Blog - Reading Java Annotations on the fly</title><meta name="next-head-count" content="3"/><meta charSet="UTF-8"/><meta name="theme-color" content="#3f51b5"/><meta http-equiv="X-DNS-Prefetch-Control" content="on"/><meta http-equiv="Strict-Transport-Security" content="max-age=63072000; includeSubDomains; preload"/><meta http-equiv="X-XSS-Protection" content="1; mode=block"/><meta http-equiv="Permissions-Policy" content=""/><meta http-equiv="X-Content-Type-Options" content="nosniff"/><meta http-equiv="Referrer-Policy" content="origin"/><meta http-equiv="Content-Security-Policy" content="default-src &#x27;none&#x27;; manifest-src &#x27;self&#x27;; img-src &#x27;self&#x27; data: https://nadundesilva.imgix.net https://www.google.lk https://www.googletagmanager.com; style-src &#x27;unsafe-inline&#x27;; style-src-elem &#x27;self&#x27; &#x27;unsafe-inline&#x27; https://fonts.googleapis.com; font-src https://fonts.gstatic.com https://script.hotjar.com; script-src &#x27;self&#x27; https://www.googletagmanager.com http://www.googletagmanager.com &#x27;sha256-zGXNhnZec+38XK4g2xHGdVAURhFrFDpw+SmUnNuuFr4=&#x27; &#x27;sha256-CnLuI7DefZ5avS8yKkus4bsgcDh4kOpq8JeXI+hBkuo=&#x27; https://static.hotjar.com https://script.hotjar.com; connect-src &#x27;self&#x27; https://www.google-analytics.com https://in.hotjar.com; prefetch-src &#x27;self&#x27;; frame-src https://vars.hotjar.com"/><meta name="application-name" content="Nadun De Silva"/><meta name="description" content="Nadun De Silva is an aspiring Software Engineer interested in Deep Learning, Observability, Anomaly Detection &amp;amp; Cloud Technologies."/><meta name="theme-color" content="#000000"/><link rel="manifest" href="https://nadundesilva.github.io/manifest.json"/><link rel="shortcut icon" href="https://nadundesilva.github.io/favicon.png"/><link rel="canonical" href="https://nadundesilva.github.io/blog/posts/reading-java-annotations-on-the-fly"/><link rel="preconnect" href="https://nadundesilva.imgix.net"/><link rel="apple-touch-icon" href="https://nadundesilva.github.io/assets/profile-photo.jpg"/><meta property="fb:app_id" content="567329184466353"/><meta property="og:title" content="Nadun De Silva"/><meta property="og:site_name" content="Nadun De Silva"/><meta property="og:type" content="profile"/><meta property="og:fb:profile_id" content="nadunrds"/><meta property="og:locale" content="en_US"/><meta property="og:description" content="Nadun De Silva is an aspiring Software Engineer interested in Deep Learning, Observability, Anomaly Detection &amp;amp; Cloud Technologies."/><meta property="og:url" content="https://nadundesilva.github.io"/><meta property="og:image" content="https://nadundesilva.github.io/assets/profile-photo.jpg"/><meta property="og:image:height" content="1960"/><meta property="og:image:width" content="1960"/><meta property="og:image:alt" content="Nadun De Silva"/><meta property="twitter:card" content="summary"/><meta property="twitter:title" content="Nadun De Silva"/><meta property="twitter:description" content="Nadun De Silva is an aspiring Software Engineer interested in Deep Learning, Observability, Anomaly Detection &amp;amp; Cloud Technologies."/><meta property="twitter:image" content="https://nadundesilva.github.io/assets/profile-photo.jpg"/><meta property="twitter:image:alt" content="Nadun De Silva"/><meta property="twitter:site" content="@nadunrds"/><meta name="google-site-verification" content="M8dg6gzVYU0noXFvsPOqknm_WjREFeNE212YeUk0g30"/><meta name="yandex-verification" content="acbc45e5d9645cf0"/><script type="application/ld+json">{"@type":"Person","image":{"height":"1960","width":"1960","url":"https://nadundesilva.github.io/assets/profile-photo.jpg","@type":"imageObject"},"url":"https://nadundesilva.github.io","sameAs":["https://www.facebook.com/nadunrds","https://www.linkedin.com/in/nadundesilva","https://www.instagram.com/nadunrds","https://github.com/nadundesilva","https://twitter.com/nadunrds","https://scholar.google.com/citations?user=CdXo_YQAAAAJ"],"description":"Nadun De Silva is an aspiring Software Engineer interested in Deep Learning, Observability, Anomaly Detection &amp; Cloud Technologies.","name":"Nadun De Silva","@context":"https://schema.org"}</script><script>
                        (function(h,o,t,j,a,r){
                            h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
                            h._hjSettings={hjid:2956846,hjsv:6};
                            a=o.getElementsByTagName('head')[0];
                            r=o.createElement('script');r.async=1;
                            r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
                            a.appendChild(r);
                        })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
                        </script><script async="" defer="" src="https://www.googletagmanager.com/gtag/js?id=GTM-T9KX7B4"></script><script>
                            window.dataLayer = window.dataLayer || [];
                            function gtag() {
                                dataLayer.push(arguments);
                            }
                            gtag("js", new Date());
                            gtag("config", "GTM-T9KX7B4", {
                                page_path: window.location.pathname,
                            });
                        </script><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/88a3a4b9c11f0e74.css" as="style"/><link rel="stylesheet" href="/_next/static/css/88a3a4b9c11f0e74.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-138f61898a0ad3ad.js" defer=""></script><script src="/_next/static/chunks/framework-c0d8f0fd2eea5ac1.js" defer=""></script><script src="/_next/static/chunks/main-bbd4bc5f7d3ddb0e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-894e14937be976de.js" defer=""></script><script src="/_next/static/chunks/c16184b3-2be7c5f6fabc8a1f.js" defer=""></script><script src="/_next/static/chunks/815-bafdb4014cf8e62c.js" defer=""></script><script src="/_next/static/chunks/pages/blog/posts/reading-java-annotations-on-the-fly-aedd7be2e8b6bc01.js" defer=""></script><script src="/_next/static/mV7nJu9E_8ltgq0sX7MEy/_buildManifest.js" defer=""></script><script src="/_next/static/mV7nJu9E_8ltgq0sX7MEy/_ssgManifest.js" defer=""></script><style data-emotion="css "></style><style data-href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fBBc-.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4mxM.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fBBc-.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfBBc-.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><style data-emotion="css-global o6gwfi">html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;-webkit-text-size-adjust:100%;}*,*::before,*::after{box-sizing:inherit;}strong,b{font-weight:700;}body{margin:0;color:rgba(0, 0, 0, 0.87);font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;background-color:#fff;}@media print{body{background-color:#fff;}}body::backdrop{background-color:#fff;}</style><div class="MuiContainer-root MuiContainer-disableGutters css-8d97to"><header class="MuiPaper-root MuiPaper-elevation MuiPaper-elevation0 MuiAppBar-root MuiAppBar-colorPrimary MuiAppBar-positionFixed mui-fixed css-1d18wbg" data-testid="app-bar"><div class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-i6s8oy"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorInherit MuiIconButton-edgeStart MuiIconButton-sizeMedium css-18jx27t" tabindex="0" type="button" aria-label="open drawer"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="MenuIcon"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></button><h1 class="MuiTypography-root MuiTypography-h5 css-zq6grw">Nadun De Silva</h1><div class="MuiBox-root css-i9gxme"></div><div class="MuiBox-root css-13tqxrv"><a class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-disableElevation MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-disableElevation css-bz1zsr" tabindex="0" href="/experience">Experience</a><a class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-disableElevation MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-disableElevation css-bz1zsr" tabindex="0" href="/achievements">Achievements</a><a class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-disableElevation MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-disableElevation css-bz1zsr" tabindex="0" href="/education">Education</a><a class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-disableElevation MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-disableElevation css-bz1zsr" tabindex="0" href="/projects">Projects</a><a class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-disableElevation MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-disableElevation css-bz1zsr" tabindex="0" href="/blog">Blog</a></div><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall css-1o4fqe1" tabindex="0" type="button" aria-label="Change to dark theme"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="moon" class="svg-inline--fa fa-moon " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" style="transform-origin:0.375em 0.5em"><g transform="translate(192 256)"><g transform="translate(0, 0)  scale(1.25, 1.25)  rotate(0 0 0)"><path fill="currentColor" d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z" transform="translate(-192 -256)"></path></g></g></svg></button></div></header><div class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-i6s8oy"></div><div class="MuiContainer-root MuiContainer-disableGutters css-13va7b1"><div class="MuiContainer-root MuiContainer-disableGutters css-n5rtt0"><nav class="MuiTypography-root MuiTypography-body1 MuiBreadcrumbs-root css-7c1d5x" aria-label="breadcrumb"><ol class="MuiBreadcrumbs-ol css-nhb8h9"><li class="MuiBreadcrumbs-li"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-rykxex" href="/">Home</a></li><li aria-hidden="true" class="MuiBreadcrumbs-separator css-3mf706"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-right" class="svg-inline--fa fa-chevron-right " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" style="transform-origin:0.375em 0.5em"><g transform="translate(192 256)"><g transform="translate(0, 0)  scale(0.75, 0.75)  rotate(0 0 0)"><path fill="currentColor" d="M342.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L274.7 256 105.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z" transform="translate(-192 -256)"></path></g></g></svg></li><li class="MuiBreadcrumbs-li"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-rykxex" href="/blog">Blog</a></li><li aria-hidden="true" class="MuiBreadcrumbs-separator css-3mf706"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-right" class="svg-inline--fa fa-chevron-right " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" style="transform-origin:0.375em 0.5em"><g transform="translate(192 256)"><g transform="translate(0, 0)  scale(0.75, 0.75)  rotate(0 0 0)"><path fill="currentColor" d="M342.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L274.7 256 105.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z" transform="translate(-192 -256)"></path></g></g></svg></li><li class="MuiBreadcrumbs-li"><p class="MuiTypography-root MuiTypography-body1 css-nbfzex">Post</p></li></ol></nav><div class="MuiContainer-root css-10ur324"><h1 class="MuiTypography-root MuiTypography-h3 css-j9vq2b">Reading Java Annotations on the fly</h1><div class="MuiContainer-root MuiContainer-maxWidthLg MuiContainer-disableGutters css-16p4zmj"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="Reading Java Annotations on the fly - Main Image" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(&quot;data:image/webp;base64,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&quot;)"/><noscript><img alt="Reading Java Annotations on the fly - Main Image" sizes="100vw" srcSet="https://nadundesilva.imgix.net/assets/blog/reading-java-annotations-on-the-fly/main.jpeg?auto=format&amp;fit=max&amp;w=640 640w, https://nadundesilva.imgix.net/assets/blog/reading-java-annotations-on-the-fly/main.jpeg?auto=format&amp;fit=max&amp;w=750 750w, https://nadundesilva.imgix.net/assets/blog/reading-java-annotations-on-the-fly/main.jpeg?auto=format&amp;fit=max&amp;w=828 828w, https://nadundesilva.imgix.net/assets/blog/reading-java-annotations-on-the-fly/main.jpeg?auto=format&amp;fit=max&amp;w=1080 1080w, https://nadundesilva.imgix.net/assets/blog/reading-java-annotations-on-the-fly/main.jpeg?auto=format&amp;fit=max&amp;w=1200 1200w, https://nadundesilva.imgix.net/assets/blog/reading-java-annotations-on-the-fly/main.jpeg?auto=format&amp;fit=max&amp;w=1920 1920w, https://nadundesilva.imgix.net/assets/blog/reading-java-annotations-on-the-fly/main.jpeg?auto=format&amp;fit=max&amp;w=2048 2048w, https://nadundesilva.imgix.net/assets/blog/reading-java-annotations-on-the-fly/main.jpeg?auto=format&amp;fit=max&amp;w=3840 3840w" src="https://nadundesilva.imgix.net/assets/blog/reading-java-annotations-on-the-fly/main.jpeg?auto=format&amp;fit=max&amp;w=3840" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" loading="lazy"/></noscript></span></div><p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">Java Reflections API allows the code you write to inspect another piece of code. This gives you immense power over the
programs you write, even to the extent of invoking private functions in a class. However, this kind of usage of the
Java Reflections API is highly discouraged.</p>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">In this post, we will be focusing on using the Java reflections API for reading the annotations applied to a class.
This can be useful if your code needs data that is stored in the annotations applied such as metadata for configuring
a library you are implementing. However, you should note that using the reflections API can have a performance impact
and you should try as much as possible to use it less often (For example, if you are working on a performance critical
system which needs the annotated data frequently, a possible solution might be to read the annotations at startup of
the program and store them in memory to be accessed later.)</p>
<div class="MuiContainer-root MuiContainer-maxWidthLg css-1wtul99">...</div>
<h2 class="MuiTypography-root MuiTypography-h4 css-1s8cztb">Let’s start Coding</h2>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">For us to use the reflections API to read annotations, the annotations should be stored in the class files by the
compiler and loaded into the JVM at run-time.</p>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">Annotations by default are retained in the class files but they are not loaded into the JVM at run-time. Therefore to
make sure that the annotations are stored in the class files and that they are loaded into the JVM at run-time, the
<a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-1dhfuuw" target="_blank" href="https://docs.oracle.com/javase/7/docs/api/java/lang/annotation/RetentionPolicy.html#RUNTIME"><code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">@Retention(RetentionPolicy.RUNTIME</code>)</a>
annotation needs to be applied to the declaration of the annotation that you wish to read at compile time.</p>
<div class="MuiBox-root css-tcf1x4"><pre><code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px"><span class="code-line line-number" line="1"><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">RuntimeRetainedAnnotation</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token class-name">String</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4">    <span class="token keyword">int</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5"><span class="token punctuation">}</span>
</span></code></pre></div>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">Now, any data annotated with the <code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">@RuntimeRetainedAnnotation</code> annotation can be read at runtime, using Java
reflections.</p>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">If you want to learn more about writing your own annotations, check my post explaining how to write Java
<a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-1dhfuuw" target="_blank" href="/blog/posts/unleashing-the-power-of-java-custom-annotations">Custom Annotations</a>.</p>
<h3 class="MuiTypography-root MuiTypography-h5 css-1xpw0rl">Reading Annotations</h3>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">All the elements to which annotations can be applied, by default implements the <code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">AnnotatedElement</code> interface. The
<code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">AnnotatedElement</code> interface has all the methods that are required for reading the annotations. Therefore for reading
annotations we first need to get hold of the annotated element which contains the annotations that you wish to inspect.</p>
<h3 class="MuiTypography-root MuiTypography-h5 css-1xpw0rl">Getting hold of the Annotated Element</h3>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">Getting hold of the annotation element can be done using the Java Reflections API as well.</p>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">To show how to get hold of the Annotated Element, we will be using the following class as an example. Note that we need
to get hold of the <code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">fooValue</code> parameter in the <code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">setFoo(Integer fooValue)</code> method which is the annotated element that we
need.</p>
<div class="MuiBox-root css-tcf1x4"><pre><code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px"><span class="code-line line-number" line="1"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    <span class="token keyword">private</span> <span class="token class-name">Integer</span> fooValue<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setFoo</span><span class="token punctuation">(</span><span class="token annotation punctuation">@MyAnnotation</span><span class="token punctuation">(</span>bar <span class="token operator">=</span> <span class="token string">&quot;BarValue&quot;</span><span class="token punctuation">,</span> maxLength <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> fooValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">        <span class="token keyword">this</span><span class="token punctuation">.</span>fooValue <span class="token operator">=</span> fooValue<span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8">    <span class="token comment">// Other Class Elements</span>
</span><span class="code-line line-number" line="9"><span class="token punctuation">}</span>
</span></code></pre></div>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">You first need to get hold of the Class object. Which can be done as shown below.</p>
<div class="MuiBox-root css-tcf1x4"><pre><code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px"><span class="code-line line-number" line="1"><span class="token class-name">Class</span> classElement <span class="token operator">=</span> <span class="token class-name">MyClass</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
</span></code></pre></div>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">After getting hold of the class, you can inspect its elements to get hold of the Annotated Element. Since you know the
Class you can directly access the <code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">setFoo(int fooValue)</code> method and from that the <code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">fooValue</code> parameter as shown below.</p>
<div class="MuiBox-root css-tcf1x4"><pre><code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px"><span class="code-line line-number" line="1"><span class="token class-name">Parameter</span> fooValueParameter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">try</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token comment">// Getting the method object</span>
</span><span class="code-line line-number" line="4">    <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5">    args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6">    <span class="token class-name">Method</span> setFooMethod <span class="token operator">=</span> classElement<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;setFoo&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8">    <span class="token comment">// Getting the parameter object</span>
</span><span class="code-line line-number" line="9">    fooValueParameter <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">getParameters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="10"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="11">    <span class="token comment">// Handle Exception</span>
</span><span class="code-line line-number" line="12"><span class="token punctuation">}</span>
</span></code></pre></div>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">Please note that depending on the element that is annotated you may have to call several methods to get hold of the
element which could be different from what is shown above. But you can find all the relevant methods in the Reflection
methods provided in Java.</p>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">All the methods that can be used are not included here and only guidance is provided for getting hold of the relevant
<code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">AnnotatedElement</code>. You can find the relevant methods in Java documentation for each element when you need to access
another element.</p>
<h3 class="MuiTypography-root MuiTypography-h5 css-1xpw0rl">Reading the Annotations applied to an Annotated Element</h3>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">Now that you have the parameter object you can now get the annotation added to this element.</p>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">As mentioned before all classes implementing the <code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">AnnotatedElement</code> interface contains all the relevant methods required
for reading annotations and all the classes of the objects we got hold of before implements it like many other elements
that can be acquired in that manner.</p>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">Let&#x27;s assume that the <code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">MyAnnotation</code> annotation added to the <code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">fooValue</code> parameter is defined as shown below.</p>
<div class="MuiBox-root css-tcf1x4"><pre><code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px"><span class="code-line line-number" line="1"><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">MyAnnotation</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token class-name">String</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4">    <span class="token keyword">int</span> <span class="token function">maxLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5"><span class="token punctuation">}</span>
</span></code></pre></div>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">Since you have got hold of the <code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">Parameter</code> object before, you can now do the following to read the <code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">bar</code> and
<code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">maxLength</code> values annotated in the parameter.</p>
<div class="MuiBox-root css-tcf1x4"><pre><code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px"><span class="code-line line-number" line="1"><span class="token class-name">MyAnnotation</span> annotation <span class="token operator">=</span> fooValueParameter<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">MyAnnotation</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="2"><span class="token class-name">String</span> bar <span class="token operator">=</span> annotation<span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3"><span class="token keyword">int</span> maxLength <span class="token operator">=</span> annotation<span class="token punctuation">.</span><span class="token function">maxLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div>
<h3 class="MuiTypography-root MuiTypography-h5 css-1xpw0rl">Reading Repeatable Annotations</h3>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">Before reading this section, if you are not familiar with Repeatable Annotations you can read the repeatable
annotations section in my post; Java Custom Annotations.</p>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">We will be using the following annotation declaration and class as an example.</p>
<div class="MuiBox-root css-tcf1x4"><pre><code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px"><span class="code-line line-number" line="1"><span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">Parameters</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    <span class="token class-name">Parameter</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token annotation punctuation">@Repeatable</span><span class="token punctuation">(</span><span class="token class-name">Parameters</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="6"><span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">Parameter</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">    <span class="token class-name">String</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="8">    <span class="token class-name">String</span> <span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="9"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token annotation punctuation">@Parameter</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;timestamp&quot;</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">&quot;datetime&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="12"><span class="token annotation punctuation">@Parameter</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="13"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FunctionOperation</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="14">    <span class="token comment">// Class Elements</span>
</span><span class="code-line line-number" line="15"><span class="token punctuation">}</span>
</span></code></pre></div>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">To access the annotation object in the <code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">FunctionOperation</code> class we can do the following.</p>
<div class="MuiBox-root css-tcf1x4"><pre><code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px"><span class="code-line line-number" line="1"><span class="token class-name">Class</span> classElement <span class="token operator">=</span> <span class="token class-name">FunctionOperation</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="2"><span class="token class-name">Parameters</span> parameters <span class="token operator">=</span> classElement<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">Parameters</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3"><span class="token class-name">Parameter</span><span class="token punctuation">[</span><span class="token punctuation">]</span> parameterArray <span class="token operator">=</span> parameters<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4"><span class="token class-name">String</span> timestampName <span class="token operator">=</span> parameterArray<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="5"><span class="token class-name">String</span> timestampType <span class="token operator">=</span> parameterArray<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="6"><span class="token class-name">String</span> usernameName <span class="token operator">=</span> parameterArray<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="7"><span class="token class-name">String</span> usernameType <span class="token operator">=</span> parameterArray<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">Note that <code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">Parameters</code> is the container annotation type of <code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">Parameter</code> annotation type and that you have to access the
repeated annotations using container annotation.</p>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">If there’s only a single repeatable annotation applied to the class as shown below, the way you can access the
annotation is a bit different.</p>
<div class="MuiBox-root css-tcf1x4"><pre><code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px"><span class="code-line line-number" line="1"><span class="token annotation punctuation">@Parameter</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FunctionOperation</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token comment">// Class Elements</span>
</span><span class="code-line line-number" line="4"><span class="token punctuation">}</span>
</span></code></pre></div>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">If this is the case if you access the container annotation you will get <code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px">null</code>. Therefore you need to access the
annotation the same way you did for non-repeatable annotations.</p>
<div class="MuiBox-root css-tcf1x4"><pre><code style="display:inline-block;background-color:rgba(228, 231, 237, 0.7);border-radius:2px"><span class="code-line line-number" line="1"><span class="token class-name">Class</span> classElement <span class="token operator">=</span> <span class="token class-name">FunctionOperation</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="2"><span class="token class-name">Parameter</span> parameter <span class="token operator">=</span> classElement<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">Parameter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="3"><span class="token class-name">String</span> name <span class="token operator">=</span> parameter<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line line-number" line="4"><span class="token class-name">String</span> type <span class="token operator">=</span> parameter<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div>
<p class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom css-16opbdg">That concludes this post. Please feel free to contact me if there are any problems.</p></div></div></div><div class="MuiContainer-root css-yjj9hp">© 2021 Nadun De Silva</div><div class="MuiBox-root css-1xkhxpi" role="presentation" style="transform:scale(0);visibility:hidden"><button class="MuiButtonBase-root MuiFab-root MuiFab-circular MuiFab-sizeSmall MuiFab-primary MuiFab-root MuiFab-circular MuiFab-sizeSmall MuiFab-primary css-1h24p2b" tabindex="0" type="button" aria-label="scroll back to top"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-up" class="svg-inline--fa fa-chevron-up " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"></path></svg></button></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/blog/posts/reading-java-annotations-on-the-fly","query":{},"buildId":"mV7nJu9E_8ltgq0sX7MEy","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>