<!DOCTYPE html><html lang="en"><head><meta charSet="UTF-8"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, viewport-fit=cover, user-scalable=yes, interactive-widget=resizes-visual"/><link rel="preload" href="/_next/static/media/934c4b7cb736f2a3-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/bb34c8c73271b743.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/20162aa30165e3b5.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-d62b6ed73f463541.js"/><script src="/_next/static/chunks/fd9d1056-3f5aeb37ac5a8c10.js" async=""></script><script src="/_next/static/chunks/1099-5a989879596480e4.js" async=""></script><script src="/_next/static/chunks/main-app-80252b6408c356a8.js" async=""></script><script src="/_next/static/chunks/5519-fc00dcffedb96ed8.js" async=""></script><script src="/_next/static/chunks/1809-c84df223d1aad7ff.js" async=""></script><script src="/_next/static/chunks/133-f3cfefdfb52d535c.js" async=""></script><script src="/_next/static/chunks/231-eaef0a0bd2a9ac24.js" async=""></script><script src="/_next/static/chunks/3037-d0ed743c76ee64f8.js" async=""></script><script src="/_next/static/chunks/app/(content)/blog-articles/(articles)/kubernetes-the-right-way/speeding-up-pod-startup-in-an-autoscaling-cluster/page-fd90395f7728e038.js" async=""></script><script src="/_next/static/chunks/9442-344ee58dc7523b9b.js" async=""></script><script src="/_next/static/chunks/6150-52f2e32b6dcfdd39.js" async=""></script><script src="/_next/static/chunks/app/(content)/layout-de9a7afb3aedea70.js" async=""></script><script src="/_next/static/chunks/8301-51590e01576371c5.js" async=""></script><script src="/_next/static/chunks/app/layout-2127ba2fe1cb3242.js" async=""></script><script src="/_next/static/chunks/app/error-d14bf575815a6149.js" async=""></script><script src="/_next/static/chunks/app/loading-646abc2b9f1e265c.js" async=""></script><script src="/_next/static/chunks/app/global-error-56a600f8a7d7e227.js" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=GTM-T9KX7B4" as="script"/><meta http-equiv="X-DNS-Prefetch-Control" content="on"/><meta http-equiv="Strict-Transport-Security" content="max-age=63072000; includeSubDomains; preload"/><meta http-equiv="X-XSS-Protection" content="1; mode=block"/><meta http-equiv="Permissions-Policy" content=""/><meta http-equiv="X-Content-Type-Options" content="nosniff"/><meta http-equiv="Content-Security-Policy" content="default-src &#x27;none&#x27;; manifest-src &#x27;self&#x27;; img-src &#x27;self&#x27; data: https://nadundesilva.imgix.net https://www.google.lk https://www.googletagmanager.com; style-src &#x27;unsafe-inline&#x27;; style-src-elem &#x27;self&#x27; &#x27;unsafe-inline&#x27;; font-src &#x27;self&#x27;; script-src &#x27;self&#x27; https://www.googletagmanager.com http://www.googletagmanager.com &#x27;unsafe-inline&#x27;; worker-src &#x27;self&#x27; blob:; child-src &#x27;self&#x27; blob:; connect-src &#x27;self&#x27; https://www.google-analytics.com https://o4507214991917056.ingest.us.sentry.io"/><link rel="preconnect" href="https://nadundesilva.imgix.net"/><meta property="fb:app_id" content="567329184466353"/><meta property="og:fb:profile_id" content="nadunrds"/><meta name="theme-color" media="(prefers-color-scheme: light)" content="#3f51b5"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000000"/><meta name="color-scheme" content="light"/><title>Kubernetes the Right Way: Speeding Up Pod Startup in an Autoscaling Cluster</title><meta name="description" content="At K8s Cluster scale-up time the new Pods have a high startup time as the Node startup time adds up to the Pod startup time. This article outlines how you can work around that and reduce the overall startup time."/><meta name="application-name" content="Nadun De Silva"/><link rel="author" href="https://nadundesilva.github.io"/><meta name="author" content="Nadun De Silva"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"/><meta name="generator" content="Next.js"/><meta name="keywords" content="Nadun,Rusiru,De Silva,Nadun De Silva,Nadun Rusiru De Silva,Kurukulasuriya Patabandige Nadun Rusiru De Silva,Software Engineer"/><meta name="referrer" content="origin"/><meta name="creator" content="Nadun De Silva"/><meta name="publisher" content="Nadun De Silva"/><meta name="robots" content="https://nadundesilva.github.io/robots.txt"/><link rel="canonical" href="https://nadundesilva.github.io"/><meta name="format-detection" content="telephone=no, date=no, address=no, email=no, url=no"/><meta name="google-site-verification" content="M8dg6gzVYU0noXFvsPOqknm_WjREFeNE212YeUk0g30"/><meta name="yandex-verification" content="acbc45e5d9645cf0"/><meta name="apple-mobile-web-app-capable" content="yes"/><link href="https://nadundesilva.github.io/assets/profile-photo.jpg" media="image/jpeg" rel="apple-touch-startup-image"/><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="256x256"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script><style data-emotion="mui-global jwvgnf">:root{--mui-shape-borderRadius:4px;--mui-shadows-0:none;--mui-shadows-1:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);--mui-shadows-2:0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12);--mui-shadows-3:0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12);--mui-shadows-4:0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12);--mui-shadows-5:0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12);--mui-shadows-6:0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12);--mui-shadows-7:0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12);--mui-shadows-8:0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12);--mui-shadows-9:0px 5px 6px -3px rgba(0,0,0,0.2),0px 9px 12px 1px rgba(0,0,0,0.14),0px 3px 16px 2px rgba(0,0,0,0.12);--mui-shadows-10:0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12);--mui-shadows-11:0px 6px 7px -4px rgba(0,0,0,0.2),0px 11px 15px 1px rgba(0,0,0,0.14),0px 4px 20px 3px rgba(0,0,0,0.12);--mui-shadows-12:0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12);--mui-shadows-13:0px 7px 8px -4px rgba(0,0,0,0.2),0px 13px 19px 2px rgba(0,0,0,0.14),0px 5px 24px 4px rgba(0,0,0,0.12);--mui-shadows-14:0px 7px 9px -4px rgba(0,0,0,0.2),0px 14px 21px 2px rgba(0,0,0,0.14),0px 5px 26px 4px rgba(0,0,0,0.12);--mui-shadows-15:0px 8px 9px -5px rgba(0,0,0,0.2),0px 15px 22px 2px rgba(0,0,0,0.14),0px 6px 28px 5px rgba(0,0,0,0.12);--mui-shadows-16:0px 8px 10px -5px rgba(0,0,0,0.2),0px 16px 24px 2px rgba(0,0,0,0.14),0px 6px 30px 5px rgba(0,0,0,0.12);--mui-shadows-17:0px 8px 11px -5px rgba(0,0,0,0.2),0px 17px 26px 2px rgba(0,0,0,0.14),0px 6px 32px 5px rgba(0,0,0,0.12);--mui-shadows-18:0px 9px 11px -5px rgba(0,0,0,0.2),0px 18px 28px 2px rgba(0,0,0,0.14),0px 7px 34px 6px rgba(0,0,0,0.12);--mui-shadows-19:0px 9px 12px -6px rgba(0,0,0,0.2),0px 19px 29px 2px rgba(0,0,0,0.14),0px 7px 36px 6px rgba(0,0,0,0.12);--mui-shadows-20:0px 10px 13px -6px rgba(0,0,0,0.2),0px 20px 31px 3px rgba(0,0,0,0.14),0px 8px 38px 7px rgba(0,0,0,0.12);--mui-shadows-21:0px 10px 13px -6px rgba(0,0,0,0.2),0px 21px 33px 3px rgba(0,0,0,0.14),0px 8px 40px 7px rgba(0,0,0,0.12);--mui-shadows-22:0px 10px 14px -6px rgba(0,0,0,0.2),0px 22px 35px 3px rgba(0,0,0,0.14),0px 8px 42px 7px rgba(0,0,0,0.12);--mui-shadows-23:0px 11px 14px -7px rgba(0,0,0,0.2),0px 23px 36px 3px rgba(0,0,0,0.14),0px 9px 44px 8px rgba(0,0,0,0.12);--mui-shadows-24:0px 11px 15px -7px rgba(0,0,0,0.2),0px 24px 38px 3px rgba(0,0,0,0.14),0px 9px 46px 8px rgba(0,0,0,0.12);--mui-zIndex-mobileStepper:1000;--mui-zIndex-fab:1050;--mui-zIndex-speedDial:1050;--mui-zIndex-appBar:1100;--mui-zIndex-drawer:1200;--mui-zIndex-modal:1300;--mui-zIndex-snackbar:1400;--mui-zIndex-tooltip:1500;}</style><style data-emotion="mui-global 165me2q">:root,[data-mui-color-scheme="light"]{--mui-palette-primary-50:#e8eaf6;--mui-palette-primary-100:#c5cae9;--mui-palette-primary-200:#9fa8da;--mui-palette-primary-300:#7986cb;--mui-palette-primary-400:#5c6bc0;--mui-palette-primary-500:#3f51b5;--mui-palette-primary-600:#3949ab;--mui-palette-primary-700:#303f9f;--mui-palette-primary-800:#283593;--mui-palette-primary-900:#1a237e;--mui-palette-primary-A100:#8c9eff;--mui-palette-primary-A200:#536dfe;--mui-palette-primary-A400:#3d5afe;--mui-palette-primary-A700:#304ffe;--mui-palette-primary-main:#3f51b5;--mui-palette-primary-light:#7986cb;--mui-palette-primary-dark:#303f9f;--mui-palette-primary-contrastText:#fff;--mui-palette-primary-mainChannel:63 81 181;--mui-palette-primary-lightChannel:121 134 203;--mui-palette-primary-darkChannel:48 63 159;--mui-palette-primary-contrastTextChannel:255 255 255;--mui-palette-secondary-50:#e8eaf6;--mui-palette-secondary-100:#c5cae9;--mui-palette-secondary-200:#9fa8da;--mui-palette-secondary-300:#7986cb;--mui-palette-secondary-400:#5c6bc0;--mui-palette-secondary-500:#3f51b5;--mui-palette-secondary-600:#3949ab;--mui-palette-secondary-700:#303f9f;--mui-palette-secondary-800:#283593;--mui-palette-secondary-900:#1a237e;--mui-palette-secondary-A100:#8c9eff;--mui-palette-secondary-A200:#536dfe;--mui-palette-secondary-A400:#3d5afe;--mui-palette-secondary-A700:#304ffe;--mui-palette-secondary-main:#3d5afe;--mui-palette-secondary-light:#536dfe;--mui-palette-secondary-dark:#304ffe;--mui-palette-secondary-contrastText:#fff;--mui-palette-secondary-mainChannel:61 90 254;--mui-palette-secondary-lightChannel:83 109 254;--mui-palette-secondary-darkChannel:48 79 254;--mui-palette-secondary-contrastTextChannel:255 255 255;--mui-palette-common-black:#000;--mui-palette-common-white:#fff;--mui-palette-common-background:#fff;--mui-palette-common-onBackground:#000;--mui-palette-common-backgroundChannel:255 255 255;--mui-palette-common-onBackgroundChannel:0 0 0;--mui-palette-error-main:#d32f2f;--mui-palette-error-light:#ef5350;--mui-palette-error-dark:#c62828;--mui-palette-error-contrastText:#fff;--mui-palette-error-mainChannel:211 47 47;--mui-palette-error-lightChannel:239 83 80;--mui-palette-error-darkChannel:198 40 40;--mui-palette-error-contrastTextChannel:255 255 255;--mui-palette-warning-main:#ed6c02;--mui-palette-warning-light:#ff9800;--mui-palette-warning-dark:#e65100;--mui-palette-warning-contrastText:#fff;--mui-palette-warning-mainChannel:237 108 2;--mui-palette-warning-lightChannel:255 152 0;--mui-palette-warning-darkChannel:230 81 0;--mui-palette-warning-contrastTextChannel:255 255 255;--mui-palette-info-main:#0288d1;--mui-palette-info-light:#03a9f4;--mui-palette-info-dark:#01579b;--mui-palette-info-contrastText:#fff;--mui-palette-info-mainChannel:2 136 209;--mui-palette-info-lightChannel:3 169 244;--mui-palette-info-darkChannel:1 87 155;--mui-palette-info-contrastTextChannel:255 255 255;--mui-palette-success-main:#2e7d32;--mui-palette-success-light:#4caf50;--mui-palette-success-dark:#1b5e20;--mui-palette-success-contrastText:#fff;--mui-palette-success-mainChannel:46 125 50;--mui-palette-success-lightChannel:76 175 80;--mui-palette-success-darkChannel:27 94 32;--mui-palette-success-contrastTextChannel:255 255 255;--mui-palette-grey-50:#fafafa;--mui-palette-grey-100:#f5f5f5;--mui-palette-grey-200:#eeeeee;--mui-palette-grey-300:#e0e0e0;--mui-palette-grey-400:#bdbdbd;--mui-palette-grey-500:#9e9e9e;--mui-palette-grey-600:#757575;--mui-palette-grey-700:#616161;--mui-palette-grey-800:#424242;--mui-palette-grey-900:#212121;--mui-palette-grey-A100:#f5f5f5;--mui-palette-grey-A200:#eeeeee;--mui-palette-grey-A400:#bdbdbd;--mui-palette-grey-A700:#616161;--mui-palette-text-primary:rgba(0, 0, 0, 0.87);--mui-palette-text-secondary:rgba(0, 0, 0, 0.6);--mui-palette-text-disabled:rgba(0, 0, 0, 0.38);--mui-palette-text-primaryChannel:0 0 0;--mui-palette-text-secondaryChannel:0 0 0;--mui-palette-divider:rgba(0, 0, 0, 0.12);--mui-palette-background-paper:#fff;--mui-palette-background-default:#fff;--mui-palette-background-defaultChannel:255 255 255;--mui-palette-background-paperChannel:255 255 255;--mui-palette-action-active:rgba(0, 0, 0, 0.54);--mui-palette-action-hover:rgba(0, 0, 0, 0.04);--mui-palette-action-hoverOpacity:0.04;--mui-palette-action-selected:rgba(0, 0, 0, 0.08);--mui-palette-action-selectedOpacity:0.08;--mui-palette-action-disabled:rgba(0, 0, 0, 0.26);--mui-palette-action-disabledBackground:rgba(0, 0, 0, 0.12);--mui-palette-action-disabledOpacity:0.38;--mui-palette-action-focus:rgba(0, 0, 0, 0.12);--mui-palette-action-focusOpacity:0.12;--mui-palette-action-activatedOpacity:0.12;--mui-palette-action-activeChannel:0 0 0;--mui-palette-action-selectedChannel:0 0 0;--mui-palette-Alert-errorColor:rgb(95, 33, 32);--mui-palette-Alert-infoColor:rgb(1, 67, 97);--mui-palette-Alert-successColor:rgb(30, 70, 32);--mui-palette-Alert-warningColor:rgb(102, 60, 0);--mui-palette-Alert-errorFilledBg:var(--mui-palette-error-main, #d32f2f);--mui-palette-Alert-infoFilledBg:var(--mui-palette-info-main, #0288d1);--mui-palette-Alert-successFilledBg:var(--mui-palette-success-main, #2e7d32);--mui-palette-Alert-warningFilledBg:var(--mui-palette-warning-main, #ed6c02);--mui-palette-Alert-errorFilledColor:#fff;--mui-palette-Alert-infoFilledColor:#fff;--mui-palette-Alert-successFilledColor:#fff;--mui-palette-Alert-warningFilledColor:#fff;--mui-palette-Alert-errorStandardBg:rgb(253, 237, 237);--mui-palette-Alert-infoStandardBg:rgb(229, 246, 253);--mui-palette-Alert-successStandardBg:rgb(237, 247, 237);--mui-palette-Alert-warningStandardBg:rgb(255, 244, 229);--mui-palette-Alert-errorIconColor:var(--mui-palette-error-main, #d32f2f);--mui-palette-Alert-infoIconColor:var(--mui-palette-info-main, #0288d1);--mui-palette-Alert-successIconColor:var(--mui-palette-success-main, #2e7d32);--mui-palette-Alert-warningIconColor:var(--mui-palette-warning-main, #ed6c02);--mui-palette-AppBar-defaultBg:var(--mui-palette-grey-100, #f5f5f5);--mui-palette-Avatar-defaultBg:var(--mui-palette-grey-400, #bdbdbd);--mui-palette-Button-inheritContainedBg:var(--mui-palette-grey-300, #e0e0e0);--mui-palette-Button-inheritContainedHoverBg:var(--mui-palette-grey-A100, #f5f5f5);--mui-palette-Chip-defaultBorder:var(--mui-palette-grey-400, #bdbdbd);--mui-palette-Chip-defaultAvatarColor:var(--mui-palette-grey-700, #616161);--mui-palette-Chip-defaultIconColor:var(--mui-palette-grey-700, #616161);--mui-palette-FilledInput-bg:rgba(0, 0, 0, 0.06);--mui-palette-FilledInput-hoverBg:rgba(0, 0, 0, 0.09);--mui-palette-FilledInput-disabledBg:rgba(0, 0, 0, 0.12);--mui-palette-LinearProgress-primaryBg:rgb(182, 188, 226);--mui-palette-LinearProgress-secondaryBg:rgb(181, 192, 254);--mui-palette-LinearProgress-errorBg:rgb(238, 175, 175);--mui-palette-LinearProgress-infoBg:rgb(158, 209, 237);--mui-palette-LinearProgress-successBg:rgb(175, 205, 177);--mui-palette-LinearProgress-warningBg:rgb(248, 199, 158);--mui-palette-Skeleton-bg:rgba(var(--mui-palette-text-primaryChannel, undefined) / 0.11);--mui-palette-Slider-primaryTrack:rgb(182, 188, 226);--mui-palette-Slider-secondaryTrack:rgb(181, 192, 254);--mui-palette-Slider-errorTrack:rgb(238, 175, 175);--mui-palette-Slider-infoTrack:rgb(158, 209, 237);--mui-palette-Slider-successTrack:rgb(175, 205, 177);--mui-palette-Slider-warningTrack:rgb(248, 199, 158);--mui-palette-SnackbarContent-bg:rgb(50, 50, 50);--mui-palette-SnackbarContent-color:#fff;--mui-palette-SpeedDialAction-fabHoverBg:rgb(216, 216, 216);--mui-palette-StepConnector-border:var(--mui-palette-grey-400, #bdbdbd);--mui-palette-StepContent-border:var(--mui-palette-grey-400, #bdbdbd);--mui-palette-Switch-defaultColor:var(--mui-palette-common-white, #fff);--mui-palette-Switch-defaultDisabledColor:var(--mui-palette-grey-100, #f5f5f5);--mui-palette-Switch-primaryDisabledColor:rgb(182, 188, 226);--mui-palette-Switch-secondaryDisabledColor:rgb(181, 192, 254);--mui-palette-Switch-errorDisabledColor:rgb(238, 175, 175);--mui-palette-Switch-infoDisabledColor:rgb(158, 209, 237);--mui-palette-Switch-successDisabledColor:rgb(175, 205, 177);--mui-palette-Switch-warningDisabledColor:rgb(248, 199, 158);--mui-palette-TableCell-border:rgba(224, 224, 224, 1);--mui-palette-Tooltip-bg:rgba(97, 97, 97, 0.92);--mui-palette-dividerChannel:0 0 0;--mui-opacity-inputPlaceholder:0.42;--mui-opacity-inputUnderline:0.42;--mui-opacity-switchTrackDisabled:0.12;--mui-opacity-switchTrack:0.38;}</style><style data-emotion="mui-global 1ofyi44">[data-mui-color-scheme="dark"]{--mui-palette-primary-50:#e8eaf6;--mui-palette-primary-100:#c5cae9;--mui-palette-primary-200:#9fa8da;--mui-palette-primary-300:#7986cb;--mui-palette-primary-400:#5c6bc0;--mui-palette-primary-500:#3f51b5;--mui-palette-primary-600:#3949ab;--mui-palette-primary-700:#303f9f;--mui-palette-primary-800:#283593;--mui-palette-primary-900:#1a237e;--mui-palette-primary-A100:#8c9eff;--mui-palette-primary-A200:#536dfe;--mui-palette-primary-A400:#3d5afe;--mui-palette-primary-A700:#304ffe;--mui-palette-primary-main:#3f51b5;--mui-palette-primary-light:#7986cb;--mui-palette-primary-dark:#303f9f;--mui-palette-primary-contrastText:#fff;--mui-palette-primary-mainChannel:63 81 181;--mui-palette-primary-lightChannel:121 134 203;--mui-palette-primary-darkChannel:48 63 159;--mui-palette-primary-contrastTextChannel:255 255 255;--mui-palette-secondary-50:#e8eaf6;--mui-palette-secondary-100:#c5cae9;--mui-palette-secondary-200:#9fa8da;--mui-palette-secondary-300:#7986cb;--mui-palette-secondary-400:#5c6bc0;--mui-palette-secondary-500:#3f51b5;--mui-palette-secondary-600:#3949ab;--mui-palette-secondary-700:#303f9f;--mui-palette-secondary-800:#283593;--mui-palette-secondary-900:#1a237e;--mui-palette-secondary-A100:#8c9eff;--mui-palette-secondary-A200:#536dfe;--mui-palette-secondary-A400:#3d5afe;--mui-palette-secondary-A700:#304ffe;--mui-palette-secondary-main:#3d5afe;--mui-palette-secondary-light:#536dfe;--mui-palette-secondary-dark:#304ffe;--mui-palette-secondary-contrastText:#fff;--mui-palette-secondary-mainChannel:61 90 254;--mui-palette-secondary-lightChannel:83 109 254;--mui-palette-secondary-darkChannel:48 79 254;--mui-palette-secondary-contrastTextChannel:255 255 255;--mui-palette-common-black:#000;--mui-palette-common-white:#fff;--mui-palette-common-background:#000;--mui-palette-common-onBackground:#fff;--mui-palette-common-backgroundChannel:0 0 0;--mui-palette-common-onBackgroundChannel:255 255 255;--mui-palette-error-main:#f44336;--mui-palette-error-light:#e57373;--mui-palette-error-dark:#d32f2f;--mui-palette-error-contrastText:#fff;--mui-palette-error-mainChannel:244 67 54;--mui-palette-error-lightChannel:229 115 115;--mui-palette-error-darkChannel:211 47 47;--mui-palette-error-contrastTextChannel:255 255 255;--mui-palette-warning-main:#ffa726;--mui-palette-warning-light:#ffb74d;--mui-palette-warning-dark:#f57c00;--mui-palette-warning-contrastText:rgba(0, 0, 0, 0.87);--mui-palette-warning-mainChannel:255 167 38;--mui-palette-warning-lightChannel:255 183 77;--mui-palette-warning-darkChannel:245 124 0;--mui-palette-warning-contrastTextChannel:0 0 0;--mui-palette-info-main:#29b6f6;--mui-palette-info-light:#4fc3f7;--mui-palette-info-dark:#0288d1;--mui-palette-info-contrastText:rgba(0, 0, 0, 0.87);--mui-palette-info-mainChannel:41 182 246;--mui-palette-info-lightChannel:79 195 247;--mui-palette-info-darkChannel:2 136 209;--mui-palette-info-contrastTextChannel:0 0 0;--mui-palette-success-main:#66bb6a;--mui-palette-success-light:#81c784;--mui-palette-success-dark:#388e3c;--mui-palette-success-contrastText:rgba(0, 0, 0, 0.87);--mui-palette-success-mainChannel:102 187 106;--mui-palette-success-lightChannel:129 199 132;--mui-palette-success-darkChannel:56 142 60;--mui-palette-success-contrastTextChannel:0 0 0;--mui-palette-grey-50:#fafafa;--mui-palette-grey-100:#f5f5f5;--mui-palette-grey-200:#eeeeee;--mui-palette-grey-300:#e0e0e0;--mui-palette-grey-400:#bdbdbd;--mui-palette-grey-500:#9e9e9e;--mui-palette-grey-600:#757575;--mui-palette-grey-700:#616161;--mui-palette-grey-800:#424242;--mui-palette-grey-900:#212121;--mui-palette-grey-A100:#f5f5f5;--mui-palette-grey-A200:#eeeeee;--mui-palette-grey-A400:#bdbdbd;--mui-palette-grey-A700:#616161;--mui-palette-text-primary:#fff;--mui-palette-text-secondary:rgba(255, 255, 255, 0.7);--mui-palette-text-disabled:rgba(255, 255, 255, 0.5);--mui-palette-text-icon:rgba(255, 255, 255, 0.5);--mui-palette-text-primaryChannel:255 255 255;--mui-palette-text-secondaryChannel:255 255 255;--mui-palette-divider:rgba(255, 255, 255, 0.12);--mui-palette-background-paper:#121212;--mui-palette-background-default:#121212;--mui-palette-background-defaultChannel:18 18 18;--mui-palette-background-paperChannel:18 18 18;--mui-palette-action-active:#fff;--mui-palette-action-hover:rgba(255, 255, 255, 0.08);--mui-palette-action-hoverOpacity:0.08;--mui-palette-action-selected:rgba(255, 255, 255, 0.16);--mui-palette-action-selectedOpacity:0.16;--mui-palette-action-disabled:rgba(255, 255, 255, 0.3);--mui-palette-action-disabledBackground:rgba(255, 255, 255, 0.12);--mui-palette-action-disabledOpacity:0.38;--mui-palette-action-focus:rgba(255, 255, 255, 0.12);--mui-palette-action-focusOpacity:0.12;--mui-palette-action-activatedOpacity:0.24;--mui-palette-action-activeChannel:255 255 255;--mui-palette-action-selectedChannel:255 255 255;--mui-palette-Alert-errorColor:rgb(244, 199, 199);--mui-palette-Alert-infoColor:rgb(184, 231, 251);--mui-palette-Alert-successColor:rgb(204, 232, 205);--mui-palette-Alert-warningColor:rgb(255, 226, 183);--mui-palette-Alert-errorFilledBg:var(--mui-palette-error-dark, #d32f2f);--mui-palette-Alert-infoFilledBg:var(--mui-palette-info-dark, #0288d1);--mui-palette-Alert-successFilledBg:var(--mui-palette-success-dark, #388e3c);--mui-palette-Alert-warningFilledBg:var(--mui-palette-warning-dark, #f57c00);--mui-palette-Alert-errorFilledColor:#fff;--mui-palette-Alert-infoFilledColor:#fff;--mui-palette-Alert-successFilledColor:#fff;--mui-palette-Alert-warningFilledColor:rgba(0, 0, 0, 0.87);--mui-palette-Alert-errorStandardBg:rgb(22, 11, 11);--mui-palette-Alert-infoStandardBg:rgb(7, 19, 24);--mui-palette-Alert-successStandardBg:rgb(12, 19, 13);--mui-palette-Alert-warningStandardBg:rgb(25, 18, 7);--mui-palette-Alert-errorIconColor:var(--mui-palette-error-main, #f44336);--mui-palette-Alert-infoIconColor:var(--mui-palette-info-main, #29b6f6);--mui-palette-Alert-successIconColor:var(--mui-palette-success-main, #66bb6a);--mui-palette-Alert-warningIconColor:var(--mui-palette-warning-main, #ffa726);--mui-palette-AppBar-defaultBg:var(--mui-palette-grey-900, #212121);--mui-palette-AppBar-darkBg:var(--mui-palette-background-paper, #121212);--mui-palette-AppBar-darkColor:var(--mui-palette-text-primary, #fff);--mui-palette-Avatar-defaultBg:var(--mui-palette-grey-600, #757575);--mui-palette-Button-inheritContainedBg:var(--mui-palette-grey-800, #424242);--mui-palette-Button-inheritContainedHoverBg:var(--mui-palette-grey-700, #616161);--mui-palette-Chip-defaultBorder:var(--mui-palette-grey-700, #616161);--mui-palette-Chip-defaultAvatarColor:var(--mui-palette-grey-300, #e0e0e0);--mui-palette-Chip-defaultIconColor:var(--mui-palette-grey-300, #e0e0e0);--mui-palette-FilledInput-bg:rgba(255, 255, 255, 0.09);--mui-palette-FilledInput-hoverBg:rgba(255, 255, 255, 0.13);--mui-palette-FilledInput-disabledBg:rgba(255, 255, 255, 0.12);--mui-palette-LinearProgress-primaryBg:rgb(31, 40, 90);--mui-palette-LinearProgress-secondaryBg:rgb(30, 45, 127);--mui-palette-LinearProgress-errorBg:rgb(122, 33, 27);--mui-palette-LinearProgress-infoBg:rgb(20, 91, 123);--mui-palette-LinearProgress-successBg:rgb(51, 93, 53);--mui-palette-LinearProgress-warningBg:rgb(127, 83, 19);--mui-palette-Skeleton-bg:rgba(var(--mui-palette-text-primaryChannel, undefined) / 0.13);--mui-palette-Slider-primaryTrack:rgb(31, 40, 90);--mui-palette-Slider-secondaryTrack:rgb(30, 45, 127);--mui-palette-Slider-errorTrack:rgb(122, 33, 27);--mui-palette-Slider-infoTrack:rgb(20, 91, 123);--mui-palette-Slider-successTrack:rgb(51, 93, 53);--mui-palette-Slider-warningTrack:rgb(127, 83, 19);--mui-palette-SnackbarContent-bg:rgb(250, 250, 250);--mui-palette-SnackbarContent-color:rgba(0, 0, 0, 0.87);--mui-palette-SpeedDialAction-fabHoverBg:rgb(53, 53, 53);--mui-palette-StepConnector-border:var(--mui-palette-grey-600, #757575);--mui-palette-StepContent-border:var(--mui-palette-grey-600, #757575);--mui-palette-Switch-defaultColor:var(--mui-palette-grey-300, #e0e0e0);--mui-palette-Switch-defaultDisabledColor:var(--mui-palette-grey-600, #757575);--mui-palette-Switch-primaryDisabledColor:rgb(28, 36, 81);--mui-palette-Switch-secondaryDisabledColor:rgb(27, 40, 114);--mui-palette-Switch-errorDisabledColor:rgb(109, 30, 24);--mui-palette-Switch-infoDisabledColor:rgb(18, 81, 110);--mui-palette-Switch-successDisabledColor:rgb(45, 84, 47);--mui-palette-Switch-warningDisabledColor:rgb(114, 75, 17);--mui-palette-TableCell-border:rgba(81, 81, 81, 1);--mui-palette-Tooltip-bg:rgba(97, 97, 97, 0.92);--mui-palette-dividerChannel:255 255 255;--mui-opacity-inputPlaceholder:0.5;--mui-opacity-inputUnderline:0.7;--mui-opacity-switchTrackDisabled:0.2;--mui-opacity-switchTrack:0.3;--mui-overlays-1:linear-gradient(rgba(255 255 255 / 0.05), rgba(255 255 255 / 0.05));--mui-overlays-2:linear-gradient(rgba(255 255 255 / 0.07), rgba(255 255 255 / 0.07));--mui-overlays-3:linear-gradient(rgba(255 255 255 / 0.08), rgba(255 255 255 / 0.08));--mui-overlays-4:linear-gradient(rgba(255 255 255 / 0.09), rgba(255 255 255 / 0.09));--mui-overlays-5:linear-gradient(rgba(255 255 255 / 0.10), rgba(255 255 255 / 0.10));--mui-overlays-6:linear-gradient(rgba(255 255 255 / 0.11), rgba(255 255 255 / 0.11));--mui-overlays-7:linear-gradient(rgba(255 255 255 / 0.11), rgba(255 255 255 / 0.11));--mui-overlays-8:linear-gradient(rgba(255 255 255 / 0.12), rgba(255 255 255 / 0.12));--mui-overlays-9:linear-gradient(rgba(255 255 255 / 0.12), rgba(255 255 255 / 0.12));--mui-overlays-10:linear-gradient(rgba(255 255 255 / 0.13), rgba(255 255 255 / 0.13));--mui-overlays-11:linear-gradient(rgba(255 255 255 / 0.13), rgba(255 255 255 / 0.13));--mui-overlays-12:linear-gradient(rgba(255 255 255 / 0.14), rgba(255 255 255 / 0.14));--mui-overlays-13:linear-gradient(rgba(255 255 255 / 0.14), rgba(255 255 255 / 0.14));--mui-overlays-14:linear-gradient(rgba(255 255 255 / 0.14), rgba(255 255 255 / 0.14));--mui-overlays-15:linear-gradient(rgba(255 255 255 / 0.14), rgba(255 255 255 / 0.14));--mui-overlays-16:linear-gradient(rgba(255 255 255 / 0.15), rgba(255 255 255 / 0.15));--mui-overlays-17:linear-gradient(rgba(255 255 255 / 0.15), rgba(255 255 255 / 0.15));--mui-overlays-18:linear-gradient(rgba(255 255 255 / 0.15), rgba(255 255 255 / 0.15));--mui-overlays-19:linear-gradient(rgba(255 255 255 / 0.15), rgba(255 255 255 / 0.15));--mui-overlays-20:linear-gradient(rgba(255 255 255 / 0.16), rgba(255 255 255 / 0.16));--mui-overlays-21:linear-gradient(rgba(255 255 255 / 0.16), rgba(255 255 255 / 0.16));--mui-overlays-22:linear-gradient(rgba(255 255 255 / 0.16), rgba(255 255 255 / 0.16));--mui-overlays-23:linear-gradient(rgba(255 255 255 / 0.16), rgba(255 255 255 / 0.16));--mui-overlays-24:linear-gradient(rgba(255 255 255 / 0.16), rgba(255 255 255 / 0.16));}</style><style data-emotion="mui-global yyv9pi">html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;-webkit-text-size-adjust:100%;}*,*::before,*::after{box-sizing:inherit;}strong,b{font-weight:700;}body{margin:0;color:var(--mui-palette-text-primary);font-family:'__Roboto_792391','__Roboto_Fallback_792391';font-weight:400;font-size:1.2142857142857142rem;line-height:1.5;background-color:var(--mui-palette-background-default);}@media print{body{background-color:var(--mui-palette-common-white);}}body::backdrop{background-color:var(--mui-palette-background-default);}</style><style data-emotion="mui-global animation-61bdi0">@-webkit-keyframes animation-61bdi0{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}@keyframes animation-61bdi0{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}</style><style data-emotion="mui-global animation-1p2h4ri">@-webkit-keyframes animation-1p2h4ri{0%{stroke-dasharray:1px,200px;stroke-dashoffset:0;}50%{stroke-dasharray:100px,200px;stroke-dashoffset:-15px;}100%{stroke-dasharray:100px,200px;stroke-dashoffset:-125px;}}@keyframes animation-1p2h4ri{0%{stroke-dasharray:1px,200px;stroke-dashoffset:0;}50%{stroke-dasharray:100px,200px;stroke-dashoffset:-15px;}100%{stroke-dasharray:100px,200px;stroke-dashoffset:-125px;}}</style><style data-emotion="mui 1ksdefh 14195mz i6s8oy 763t88 ixdn96 zfa56r 1fpqsba 1rbuv0t i9gxme 13tqxrv 1ksjaea 4l3i0q 10dgx6d obdeiv 1atf9rj 30a2yk 13va7b1 n5rtt0 yuob64 akbk25 nhb8h9 3mf706 10ur324 0 109ns7x egxfo os7hgk 10ib5jr sy2fdg 3yrovk hqw408 2sn1aa yjj9hp 1xkhxpi wydgff evuzhl tzckgh w0phzt 13o7eu2 14891ef">.mui-1ksdefh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:fixed;z-index:var(--mui-zIndex-appBar);top:0;left:auto;right:0;--AppBar-background:var(--mui-palette-AppBar-darkBg, var(--mui-palette-primary-main));--AppBar-color:var(--mui-palette-AppBar-darkColor, var(--mui-palette-primary-contrastText));background-color:var(--AppBar-background);color:var(--AppBar-color);}@media print{.mui-1ksdefh{position:absolute;}}.mui-14195mz{background-color:var(--mui-palette-background-paper);color:var(--mui-palette-text-primary);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;box-shadow:var(--mui-shadows-0);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:fixed;z-index:var(--mui-zIndex-appBar);top:0;left:auto;right:0;--AppBar-background:var(--mui-palette-AppBar-darkBg, var(--mui-palette-primary-main));--AppBar-color:var(--mui-palette-AppBar-darkColor, var(--mui-palette-primary-contrastText));background-color:var(--AppBar-background);color:var(--AppBar-color);}@media print{.mui-14195mz{position:absolute;}}.mui-i6s8oy{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:16px;padding-right:16px;min-height:56px;}@media (min-width:600px){.mui-i6s8oy{padding-left:24px;padding-right:24px;}}@media (min-width:0px){@media (orientation: landscape){.mui-i6s8oy{min-height:48px;}}}@media (min-width:600px){.mui-i6s8oy{min-height:64px;}}.mui-763t88{text-align:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:1.8214285714285712rem;padding:8px;border-radius:50%;overflow:visible;color:var(--mui-palette-action-active);-webkit-transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;margin-left:-12px;color:inherit;margin-right:16px;}.mui-763t88:hover{background-color:rgba(var(--mui-palette-action-activeChannel) / var(--mui-palette-action-hoverOpacity));}@media (hover: none){.mui-763t88:hover{background-color:transparent;}}.mui-763t88.Mui-disabled{background-color:transparent;color:var(--mui-palette-action-disabled);}@media (min-width:0px){.mui-763t88{display:block;}}@media (min-width:900px){.mui-763t88{display:none;}}.mui-ixdn96{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;text-align:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:1.8214285714285712rem;padding:8px;border-radius:50%;overflow:visible;color:var(--mui-palette-action-active);-webkit-transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;margin-left:-12px;color:inherit;margin-right:16px;}.mui-ixdn96::-moz-focus-inner{border-style:none;}.mui-ixdn96.Mui-disabled{pointer-events:none;cursor:default;}@media print{.mui-ixdn96{-webkit-print-color-adjust:exact;color-adjust:exact;}}.mui-ixdn96:hover{background-color:rgba(var(--mui-palette-action-activeChannel) / var(--mui-palette-action-hoverOpacity));}@media (hover: none){.mui-ixdn96:hover{background-color:transparent;}}.mui-ixdn96.Mui-disabled{background-color:transparent;color:var(--mui-palette-action-disabled);}@media (min-width:0px){.mui-ixdn96{display:block;}}@media (min-width:900px){.mui-ixdn96{display:none;}}.mui-zfa56r{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.8214285714285712rem;}.mui-1fpqsba{z-index:var(--mui-zIndex-drawer);}.mui-1rbuv0t{margin:0;font-family:'__Roboto_792391','__Roboto_Fallback_792391';font-weight:400;font-size:1.2142857142857142rem;line-height:1.5;font-size:23px;}.mui-i9gxme{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}@media (min-width:0px){.mui-13tqxrv{display:none;}}@media (min-width:900px){.mui-13tqxrv{display:block;}}.mui-1ksjaea{font-family:'__Roboto_792391','__Roboto_Fallback_792391';font-weight:500;font-size:1.0625rem;line-height:1.75;text-transform:uppercase;min-width:64px;padding:6px 8px;border-radius:var(--mui-shape-borderRadius);-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:var(--mui-palette-primary-main);box-shadow:none;color:#ffffff;padding-left:16px;}.mui-1ksjaea:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(var(--mui-palette-primary-mainChannel) / var(--mui-palette-action-hoverOpacity));}@media (hover: none){.mui-1ksjaea:hover{background-color:transparent;}}.mui-1ksjaea.Mui-disabled{color:var(--mui-palette-action-disabled);}.mui-1ksjaea:hover{box-shadow:none;}.mui-1ksjaea.Mui-focusVisible{box-shadow:none;}.mui-1ksjaea:active{box-shadow:none;}.mui-1ksjaea.Mui-disabled{box-shadow:none;}.mui-4l3i0q{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:'__Roboto_792391','__Roboto_Fallback_792391';font-weight:500;font-size:1.0625rem;line-height:1.75;text-transform:uppercase;min-width:64px;padding:6px 8px;border-radius:var(--mui-shape-borderRadius);-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;color:var(--mui-palette-primary-main);box-shadow:none;color:#ffffff;padding-left:16px;}.mui-4l3i0q::-moz-focus-inner{border-style:none;}.mui-4l3i0q.Mui-disabled{pointer-events:none;cursor:default;}@media print{.mui-4l3i0q{-webkit-print-color-adjust:exact;color-adjust:exact;}}.mui-4l3i0q:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(var(--mui-palette-primary-mainChannel) / var(--mui-palette-action-hoverOpacity));}@media (hover: none){.mui-4l3i0q:hover{background-color:transparent;}}.mui-4l3i0q.Mui-disabled{color:var(--mui-palette-action-disabled);}.mui-4l3i0q:hover{box-shadow:none;}.mui-4l3i0q.Mui-focusVisible{box-shadow:none;}.mui-4l3i0q:active{box-shadow:none;}.mui-4l3i0q.Mui-disabled{box-shadow:none;}.mui-10dgx6d{text-align:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:1.8214285714285712rem;padding:8px;border-radius:50%;overflow:visible;color:var(--mui-palette-action-active);-webkit-transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;padding:5px;font-size:1.3660714285714284rem;margin-left:40px;}.mui-10dgx6d:hover{background-color:rgba(var(--mui-palette-action-activeChannel) / var(--mui-palette-action-hoverOpacity));}@media (hover: none){.mui-10dgx6d:hover{background-color:transparent;}}.mui-10dgx6d.Mui-disabled{background-color:transparent;color:var(--mui-palette-action-disabled);}.mui-obdeiv{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;text-align:center;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:1.8214285714285712rem;padding:8px;border-radius:50%;overflow:visible;color:var(--mui-palette-action-active);-webkit-transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;padding:5px;font-size:1.3660714285714284rem;margin-left:40px;}.mui-obdeiv::-moz-focus-inner{border-style:none;}.mui-obdeiv.Mui-disabled{pointer-events:none;cursor:default;}@media print{.mui-obdeiv{-webkit-print-color-adjust:exact;color-adjust:exact;}}.mui-obdeiv:hover{background-color:rgba(var(--mui-palette-action-activeChannel) / var(--mui-palette-action-hoverOpacity));}@media (hover: none){.mui-obdeiv:hover{background-color:transparent;}}.mui-obdeiv.Mui-disabled{background-color:transparent;color:var(--mui-palette-action-disabled);}.mui-1atf9rj{z-index:var(--mui-zIndex-tooltip);pointer-events:none;}.mui-30a2yk{z-index:var(--mui-zIndex-tooltip);pointer-events:none;}.mui-13va7b1{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;overflow-x:hidden;}.mui-n5rtt0{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;margin-bottom:40px;}@media (min-width:0px){.mui-n5rtt0{padding-left:0px;padding-right:0px;}}@media (min-width:1200px){.mui-n5rtt0{padding-left:160px;padding-right:160px;}}@media (min-width:1536px){.mui-n5rtt0{padding-left:320px;padding-right:320px;}}.mui-yuob64{margin:24px;}.mui-akbk25{margin:0;font-family:'__Roboto_792391','__Roboto_Fallback_792391';font-weight:400;font-size:1.2142857142857142rem;line-height:1.5;color:var(--mui-palette-text-secondary);margin:24px;}.mui-nhb8h9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0;margin:0;list-style:none;}.mui-3mf706{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-left:8px;margin-right:8px;}.mui-10ur324{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;padding-left:16px;padding-right:16px;}@media (min-width:600px){.mui-10ur324{padding-left:24px;padding-right:24px;}}.mui-109ns7x{margin:0;font-family:'__Roboto_792391','__Roboto_Fallback_792391';font-weight:300;font-size:7.285714285714285rem;line-height:1.167;margin-bottom:0.35em;font-size:30px;}.mui-egxfo{margin:0;font-family:'__Roboto_792391','__Roboto_Fallback_792391';font-weight:400;font-size:1.0625rem;line-height:1.43;color:#888888;margin-bottom:16px;}.mui-os7hgk{margin:0;font-family:'__Roboto_792391','__Roboto_Fallback_792391';font-weight:400;font-size:1.0625rem;line-height:1.43;color:#555555;margin-bottom:16px;}.mui-10ib5jr{margin-bottom:40px;}.mui-sy2fdg{font-family:'__Roboto_792391','__Roboto_Fallback_792391';font-weight:500;font-size:0.9866071428571428rem;line-height:1.75;text-transform:uppercase;min-width:64px;padding:3px 9px;border-radius:var(--mui-shape-borderRadius);-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border:1px solid rgba(var(--mui-palette-primary-mainChannel) / 0.5);color:var(--mui-palette-primary-main);}.mui-sy2fdg:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(var(--mui-palette-primary-mainChannel) / var(--mui-palette-action-hoverOpacity));border:1px solid var(--mui-palette-primary-main);}@media (hover: none){.mui-sy2fdg:hover{background-color:transparent;}}.mui-sy2fdg.Mui-disabled{color:var(--mui-palette-action-disabled);border:1px solid var(--mui-palette-action-disabledBackground);}.mui-3yrovk{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:'__Roboto_792391','__Roboto_Fallback_792391';font-weight:500;font-size:0.9866071428571428rem;line-height:1.75;text-transform:uppercase;min-width:64px;padding:3px 9px;border-radius:var(--mui-shape-borderRadius);-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border:1px solid rgba(var(--mui-palette-primary-mainChannel) / 0.5);color:var(--mui-palette-primary-main);}.mui-3yrovk::-moz-focus-inner{border-style:none;}.mui-3yrovk.Mui-disabled{pointer-events:none;cursor:default;}@media print{.mui-3yrovk{-webkit-print-color-adjust:exact;color-adjust:exact;}}.mui-3yrovk:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(var(--mui-palette-primary-mainChannel) / var(--mui-palette-action-hoverOpacity));border:1px solid var(--mui-palette-primary-main);}@media (hover: none){.mui-3yrovk:hover{background-color:transparent;}}.mui-3yrovk.Mui-disabled{color:var(--mui-palette-action-disabled);border:1px solid var(--mui-palette-action-disabledBackground);}.mui-hqw408{display:inherit;margin-right:-2px;margin-left:8px;}.mui-hqw408>*:nth-of-type(1){font-size:18px;}.mui-2sn1aa{margin:0;font-family:'__Roboto_792391','__Roboto_Fallback_792391';font-weight:300;font-size:4.553571428571428rem;line-height:1.2;margin-bottom:0.35em;font-size:25px;}.mui-yjj9hp{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;padding-left:16px;padding-right:16px;text-align:center;padding-top:80px;padding-bottom:40px;color:#666666;}@media (min-width:600px){.mui-yjj9hp{padding-left:24px;padding-right:24px;}}.mui-1xkhxpi{position:fixed;bottom:10px;right:10px;}.mui-wydgff{font-family:'__Roboto_792391','__Roboto_Fallback_792391';font-weight:500;font-size:1.0625rem;line-height:1.75;text-transform:uppercase;min-height:36px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border-radius:50%;padding:0;min-width:0;width:40px;height:40px;z-index:var(--mui-zIndex-fab);box-shadow:var(--mui-shadows-6);color:var(--mui-palette-text-primary);background-color:var(--mui-palette-grey-300);color:var(--mui-palette-primary-contrastText);background-color:var(--mui-palette-primary-main);}.mui-wydgff:active{box-shadow:var(--mui-shadows-12);}.mui-wydgff:hover{background-color:var(--mui-palette-grey-A100);-webkit-text-decoration:none;text-decoration:none;}@media (hover: none){.mui-wydgff:hover{background-color:var(--mui-palette-grey-300);}}.mui-wydgff.Mui-focusVisible{box-shadow:var(--mui-shadows-6);}.mui-wydgff:hover{background-color:var(--mui-palette-primary-dark);}@media (hover: none){.mui-wydgff:hover{background-color:var(--mui-palette-primary-main);}}.mui-wydgff.Mui-disabled{color:var(--mui-palette-action-disabled);box-shadow:var(--mui-shadows-0);background-color:var(--mui-palette-action-disabledBackground);}.mui-evuzhl{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:'__Roboto_792391','__Roboto_Fallback_792391';font-weight:500;font-size:1.0625rem;line-height:1.75;text-transform:uppercase;min-height:36px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border-radius:50%;padding:0;min-width:0;width:40px;height:40px;z-index:var(--mui-zIndex-fab);box-shadow:var(--mui-shadows-6);color:var(--mui-palette-text-primary);background-color:var(--mui-palette-grey-300);color:var(--mui-palette-primary-contrastText);background-color:var(--mui-palette-primary-main);}.mui-evuzhl::-moz-focus-inner{border-style:none;}.mui-evuzhl.Mui-disabled{pointer-events:none;cursor:default;}@media print{.mui-evuzhl{-webkit-print-color-adjust:exact;color-adjust:exact;}}.mui-evuzhl:active{box-shadow:var(--mui-shadows-12);}.mui-evuzhl:hover{background-color:var(--mui-palette-grey-A100);-webkit-text-decoration:none;text-decoration:none;}@media (hover: none){.mui-evuzhl:hover{background-color:var(--mui-palette-grey-300);}}.mui-evuzhl.Mui-focusVisible{box-shadow:var(--mui-shadows-6);}.mui-evuzhl:hover{background-color:var(--mui-palette-primary-dark);}@media (hover: none){.mui-evuzhl:hover{background-color:var(--mui-palette-primary-main);}}.mui-evuzhl.Mui-disabled{color:var(--mui-palette-action-disabled);box-shadow:var(--mui-shadows-0);background-color:var(--mui-palette-action-disabledBackground);}.mui-tzckgh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;padding-top:25%;height:100vh;}.mui-w0phzt{display:inline-block;color:var(--mui-palette-primary-main);-webkit-animation:animation-61bdi0 1.4s linear infinite;animation:animation-61bdi0 1.4s linear infinite;}.mui-13o7eu2{display:block;}.mui-14891ef{stroke:currentColor;stroke-dasharray:80px,200px;stroke-dashoffset:0;-webkit-animation:animation-1p2h4ri 1.4s ease-in-out infinite;animation:animation-1p2h4ri 1.4s ease-in-out infinite;}</style></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T9KX7B4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><main><header class="MuiPaper-root MuiPaper-elevation MuiPaper-elevation0 MuiAppBar-root MuiAppBar-colorPrimary MuiAppBar-positionFixed mui-fixed mui-14195mz" data-testid="app-bar"><div class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular mui-i6s8oy"><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorInherit MuiIconButton-edgeStart MuiIconButton-sizeMedium mui-ixdn96" tabindex="0" type="button" aria-label="open drawer"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-zfa56r" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="MenuIcon"><path d="M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"></path></svg></button><p class="MuiTypography-root MuiTypography-body1 mui-1rbuv0t">Nadun De Silva</p><div class="MuiBox-root mui-i9gxme"></div><div class="MuiBox-root mui-13tqxrv"><a href="/experience"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-disableElevation MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-disableElevation mui-4l3i0q" tabindex="0" type="button">Experience</button></a><a href="/achievements"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-disableElevation MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-disableElevation mui-4l3i0q" tabindex="0" type="button">Achievements</button></a><a href="/projects"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-disableElevation MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-disableElevation mui-4l3i0q" tabindex="0" type="button">Projects</button></a><a href="/testimonials"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-disableElevation MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-disableElevation mui-4l3i0q" tabindex="0" type="button">Testimonials</button></a><a href="/blog-articles"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-disableElevation MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-disableElevation mui-4l3i0q" tabindex="0" type="button">Blog Articles</button></a><a href="/education"><button class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-disableElevation MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-disableElevation mui-4l3i0q" tabindex="0" type="button">Education</button></a></div><button class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall mui-obdeiv" tabindex="0" type="button" aria-label="Change to dark theme"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-zfa56r" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="DarkModeIcon"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"></path></svg></button></div></header><div class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular mui-i6s8oy"></div><div class="MuiContainer-root MuiContainer-disableGutters mui-13va7b1"><!--$--><div class="MuiContainer-root MuiContainer-disableGutters mui-n5rtt0"><nav class="MuiTypography-root MuiTypography-body1 MuiBreadcrumbs-root mui-akbk25" aria-label="breadcrumb"><ol class="MuiBreadcrumbs-ol mui-nhb8h9"><li class="MuiBreadcrumbs-li"><a href="/">Home</a></li><li aria-hidden="true" class="MuiBreadcrumbs-separator mui-3mf706"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-zfa56r" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="KeyboardArrowRightIcon"><path d="M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"></path></svg></li><li class="MuiBreadcrumbs-li"><a href="/blog-articles">Blog Articles</a></li></ol></nav><div class="MuiContainer-root mui-10ur324"><div class="MuiBox-root mui-0"><h1 class="MuiTypography-root MuiTypography-h1 MuiTypography-gutterBottom mui-109ns7x">Kubernetes the Right Way: Speeding Up Pod Startup in an Autoscaling Cluster</h1><p class="MuiTypography-root MuiTypography-body2 mui-egxfo">Published on<!-- --> <!-- -->Jun 8, 2023</p><p class="MuiTypography-root MuiTypography-body2 mui-os7hgk">At K8s Cluster scale-up time the new Pods have a high startup time as the Node startup time adds up to the Pod startup time. This article outlines how you can work around that and reduce the overall startup time.</p><div class="MuiBox-root mui-10ib5jr"><a class="MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeSmall MuiButton-outlinedSizeSmall MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeSmall MuiButton-outlinedSizeSmall MuiButton-colorPrimary mui-3yrovk" tabindex="0" target="_blank" href="https://faun.pub/speeding-up-pod-startup-in-an-autoscaling-kubernetes-cluster-fb98dbca88ba">Medium<span class="MuiButton-icon MuiButton-endIcon MuiButton-iconSizeSmall mui-hqw408"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-zfa56r" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="OpenInNewIcon"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"></path></svg></span></a></div><p>In most of the managed Kubernetes Clusters provided by Cloud Providers, you can enable autoscaling of the K8s Cluster so that when new workloads are added into the cluster, if there is no space in the existing nodes in the cluster, new nodes are added to the Cluster automatically. This is generally done using the <a href="https://github.com/kubernetes/autoscaler/tree/master/cluster-autoscaler" target="_blank">K8s Cluster Autoscaler</a> provided by Kubernetes itself.</p>
<p>One of the key aspects to note here is that the new nodes are added to the cluster after a Pod fails to schedule due to insufficient resources being available in the cluster. This allows us to add nodes only when required saving some money for us.</p>
<p>However, there is one downside to it as the Node startup time now adds up to the Pod startup time. While in most cases, this is sufficient, it can sometimes be problematic (For example in Operator-based deployments where we have to provision new Pods dynamically to serve new users upon request). This article outlines how you can work around this problem by having a set of buffer Pods over-provisioning Nodes slightly, which will step out of the way and provide space for the actual workloads if required.</p>
<hr/>
<h2 class="MuiTypography-root MuiTypography-h2 MuiTypography-gutterBottom mui-2sn1aa">Using Priority Classes</h2>
<p>The Priority Classes provide the capability for us to specify the relative priority between Pods in scheduling them into Nodes. On top of that, when a higher priority Pod needs to be scheduled, the K8s scheduler will preempt any lower priority Pod as required to make space for the higher priority Pod. At this point, the preempted less-priority Pods would enter a <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="dracula" style="background-color:#282A36;color:#F8F8F2"><span data-line=""><span>Pending</span></span></code></span> state until space to schedule them is available within the K8s cluster.</p>
<p>We can utilize this behavior to schedule some Pods to act as buffer space which can be utilized by the actual Pods whenever required. Whenever the cluster runs out of space and the buffer Pods enter the Pending state, the K8s Cluster Autoscaler would startup a node and try to schedule the Buffer Pods again. While this is happening, the actual workload Pods would be scheduled into the space left out by the Buffer Pods which went into Pending state.</p>
<p>This in a way lets us transfer the Node startup time penalty away from the workload Pod startup time and move it to the startup time of the Buffer Pods. This results in the Workload startup time to reduce.</p>
<p><em>Let’s see how we can implement this.</em></p>
<hr/>
<h2 class="MuiTypography-root MuiTypography-h2 MuiTypography-gutterBottom mui-2sn1aa">Buffer Pods</h2>
<p>Let’s first define a Priority Class for the Buffer Pods. We need to give a name for the class as well as a <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="dracula" style="background-color:#282A36;color:#F8F8F2"><span data-line=""><span>value</span></span></code></span> representing the priority that should be given to any Pod which has the Priority Class. Pods with a Priority Class with a higher <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="dracula" style="background-color:#282A36;color:#F8F8F2"><span data-line=""><span>value</span></span></code></span> is given higher priority compared to others. Although in the example below, I have set this to zero, it can have any value that you wish (The <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="dracula" style="background-color:#282A36;color:#F8F8F2"><span data-line=""><span>value</span></span></code></span> needs to be between -2,147,483,648 and 1,000,000,000 inclusive).</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282A36;color:#F8F8F2" tabindex="0" data-language="yaml" data-theme="dracula"><code data-language="yaml" data-theme="dracula" style="display:grid"><span data-line=""><span style="color:#8BE9FD">apiVersion</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> scheduling.k8s.io/v1</span></span>
<span data-line=""><span style="color:#8BE9FD">kind</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> PriorityClass</span></span>
<span data-line=""><span style="color:#8BE9FD">metadata</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">    name</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> buffering-priority</span></span>
<span data-line=""><span style="color:#8BE9FD">value</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 0</span></span>
<span data-line=""><span style="color:#8BE9FD">description</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">This Priority Class lowers the priority of Buffer Pods</span><span style="color:#E9F284">&quot;</span></span></code></pre></figure>
<p>The next step is to create Pods and signal to the K8s Pod scheduler the Priority Class they belong to. It can be done by specifying the Priority Class name in the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="dracula" style="background-color:#282A36;color:#F8F8F2"><span data-line=""><span>priorityClassName</span></span></code></span> field in the Pod spec. You can also add any other required resources (such as Services, Ingresses, and Network Policies) as you wish.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282A36;color:#F8F8F2" tabindex="0" data-language="yaml" data-theme="dracula"><code data-language="yaml" data-theme="dracula" style="display:grid"><span data-line=""><span style="color:#8BE9FD">apiVersion</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> apps/v1</span></span>
<span data-line=""><span style="color:#8BE9FD">kind</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> Deployment</span></span>
<span data-line=""><span style="color:#8BE9FD">metadata</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">    name</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> buffer-deployment</span></span>
<span data-line=""><span style="color:#8BE9FD">    labels</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">        app</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> buffer</span></span>
<span data-line=""><span style="color:#8BE9FD">spec</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">    replicas</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 2</span></span>
<span data-line=""><span style="color:#8BE9FD">    selector</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">        matchLabels</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">            app</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> buffer</span></span>
<span data-line=""><span style="color:#8BE9FD">    template</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">        metadata</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">            labels</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">                app</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> buffer</span></span>
<span data-line=""><span style="color:#8BE9FD">        spec</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">            priorityClassName</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> buffering-priority</span></span>
<span data-line=""><span style="color:#8BE9FD">            containers</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#FF79C6">                -</span><span style="color:#8BE9FD"> name</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> pause</span></span>
<span data-line=""><span style="color:#8BE9FD">                  image</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> google/pause</span></span>
<span data-line=""><span style="color:#8BE9FD">                  resources</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">                      requests</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">                          memory</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">1Gi</span><span style="color:#E9F284">&quot;</span></span>
<span data-line=""><span style="color:#8BE9FD">                          cpu</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">500m</span><span style="color:#E9F284">&quot;</span></span>
<span data-line=""><span style="color:#8BE9FD">                      limits</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">                          memory</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">1Gi</span><span style="color:#E9F284">&quot;</span></span>
<span data-line=""><span style="color:#8BE9FD">                          cpu</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">500m</span><span style="color:#E9F284">&quot;</span></span></code></pre></figure>
<p>It is also important to specify the resource limits and requests accordingly so that these buffer Pods will allocate the correct amount of additional resources, which will be reserved for your actual workload Pods. This can be as high or low as you like and the number of replicas can be also used to control the reserved resources.</p>
<p>If you have one type of workload, my recommendation is to match the resource requests and limits exactly to the workload resource requests and limits so that you can control the maximum spike of new Pods created that the cluster can handle by using <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="dracula" style="background-color:#282A36;color:#F8F8F2"><span data-line=""><span>replicas</span></span></code></span> in a more predictable manner. Also, I would recommend using the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="dracula" style="background-color:#282A36;color:#F8F8F2"><span data-line=""><span>google/pause</span></span></code></span> container image or a similar image, which wouldn’t do any actual work, for the buffer Pods.</p>
<h2 class="MuiTypography-root MuiTypography-h2 MuiTypography-gutterBottom mui-2sn1aa">Workload Pods</h2>
<p>The Priority Class for the workload Pods can be created similarly. The only requirement is that the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="dracula" style="background-color:#282A36;color:#F8F8F2"><span data-line=""><span>value</span></span></code></span> of this Priority Class should be higher than the Priority Class of the Buffer Pods (greater than 0 according to our example).</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282A36;color:#F8F8F2" tabindex="0" data-language="yaml" data-theme="dracula"><code data-language="yaml" data-theme="dracula" style="display:grid"><span data-line=""><span style="color:#8BE9FD">apiVersion</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> scheduling.k8s.io/v1</span></span>
<span data-line=""><span style="color:#8BE9FD">kind</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> PriorityClass</span></span>
<span data-line=""><span style="color:#8BE9FD">metadata</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">    name</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> normal-priority</span></span>
<span data-line=""><span style="color:#8BE9FD">value</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 100</span></span>
<span data-line=""><span style="color:#8BE9FD">description</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">This Priority Class increases the priority of other workload pods</span><span style="color:#E9F284">&quot;</span></span></code></pre></figure>
<p>The workload Deployment (or any other K8s resource which creates Pods), can be created similarly and the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="dracula" style="background-color:#282A36;color:#F8F8F2"><span data-line=""><span>priorityClassName</span></span></code></span> field should point to the above Priority Class.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282A36;color:#F8F8F2" tabindex="0" data-language="yaml" data-theme="dracula"><code data-language="yaml" data-theme="dracula" style="display:grid"><span data-line=""><span style="color:#8BE9FD">apiVersion</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> apps/v1</span></span>
<span data-line=""><span style="color:#8BE9FD">kind</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> Deployment</span></span>
<span data-line=""><span style="color:#8BE9FD">metadata</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">    name</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> workload-deployment</span></span>
<span data-line=""><span style="color:#8BE9FD">    labels</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">        app</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> workload</span></span>
<span data-line=""><span style="color:#8BE9FD">spec</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">    replicas</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 1</span></span>
<span data-line=""><span style="color:#8BE9FD">    selector</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">        matchLabels</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">            app</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> workload</span></span>
<span data-line=""><span style="color:#8BE9FD">    template</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">        metadata</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">            labels</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">                app</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> workload</span></span>
<span data-line=""><span style="color:#8BE9FD">        spec</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">            priorityClassName</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> normal-priority</span></span>
<span data-line=""><span style="color:#8BE9FD">            containers</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#FF79C6">                -</span><span style="color:#8BE9FD"> name</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> nginx</span></span>
<span data-line=""><span style="color:#8BE9FD">                  image</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> nginx:1.25.0</span></span>
<span data-line=""><span style="color:#8BE9FD">                  ports</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#FF79C6">                      -</span><span style="color:#8BE9FD"> containerPort</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 80</span></span>
<span data-line=""><span style="color:#8BE9FD">                  resources</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">                      requests</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">                          memory</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">1Gi</span><span style="color:#E9F284">&quot;</span></span>
<span data-line=""><span style="color:#8BE9FD">                          cpu</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">500m</span><span style="color:#E9F284">&quot;</span></span>
<span data-line=""><span style="color:#8BE9FD">                      limits</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">                          memory</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">1Gi</span><span style="color:#E9F284">&quot;</span></span>
<span data-line=""><span style="color:#8BE9FD">                          cpu</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">500m</span><span style="color:#E9F284">&quot;</span></span></code></pre></figure>
<p>Now we are all set. If you create the above resources, you can see how the Buffer Pods will move to <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="dracula" style="background-color:#282A36;color:#F8F8F2"><span data-line=""><span>Pending</span></span></code></span> state immediately whenever a workload Pod does not have enough space within the K8s Cluster. I have written down the <a href="https://github.com/nadundesilva/blog-support/tree/main/articles/speeding-up-pod-startup-in-an-autoscaling-kubernetes-cluster" target="_blank">K8s resources</a> which you can use to test this out yourself if you wish. After creating the resources, try to scale up the workload Deployment and note how once the K8s Cluster is full, the Buffer Pods would start to back off and let the Workload Pods run.</p>
<h2 class="MuiTypography-root MuiTypography-h2 MuiTypography-gutterBottom mui-2sn1aa">Global Priority Class</h2>
<p>If you are creating many different Pods, it might get troublesome to specify the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="dracula" style="background-color:#282A36;color:#F8F8F2"><span data-line=""><span>priorityClassName</span></span></code></span> for all workload Pods. If that is the case, you can set the default priority for all Pods at a global level by creating a Global Priority Class.</p>
<p>This can be done by creating a Priority Class similar to before and setting the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="dracula" style="background-color:#282A36;color:#F8F8F2"><span data-line=""><span>globalDefault</span></span></code></span> to <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="dracula" style="background-color:#282A36;color:#F8F8F2"><span data-line=""><span>true</span></span></code></span> in it. There can only be one Priority Class with <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="dracula" style="background-color:#282A36;color:#F8F8F2"><span data-line=""><span>globalDefault</span></span></code></span> set to <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="dracula" style="background-color:#282A36;color:#F8F8F2"><span data-line=""><span>true</span></span></code></span> within one Cluster.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282A36;color:#F8F8F2" tabindex="0" data-language="yaml" data-theme="dracula"><code data-language="yaml" data-theme="dracula" style="display:grid"><span data-line=""><span style="color:#8BE9FD">apiVersion</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> scheduling.k8s.io/v1</span></span>
<span data-line=""><span style="color:#8BE9FD">kind</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> PriorityClass</span></span>
<span data-line=""><span style="color:#8BE9FD">metadata</span><span style="color:#FF79C6">:</span></span>
<span data-line=""><span style="color:#8BE9FD">    name</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> default-priority</span></span>
<span data-line=""><span style="color:#8BE9FD">value</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 100</span></span>
<span data-line=""><span style="color:#8BE9FD">globalDefault</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> true</span></span>
<span data-line=""><span style="color:#8BE9FD">description</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &quot;</span><span style="color:#F1FA8C">This Priority Class set the default priority level for all Pods</span><span style="color:#E9F284">&quot;</span></span></code></pre></figure>
<p>According to the above example, all Pods which does not have the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="dracula" style="background-color:#282A36;color:#F8F8F2"><span data-line=""><span>priorityClassName</span></span></code></span> field would have a priority value of <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="dracula" style="background-color:#282A36;color:#F8F8F2"><span data-line=""><span>100</span></span></code></span>.</p>
<hr/>
<p>While this technique, would overprovision resources in your cluster in the form of Buffer Pods, it also helps in speeding up the startup time when K8s Cluster Autoscaler’s scaleup events occur. In situations where you are dynamically provisioning Pods to serve users and you want the Pods to startup fast to avoid harming the end-user experience, you can use this technique.</p>
<hr/>
<p>If you liked this article and would love to learn more about best practices on implementing, deploying, and maintaining applications on Kubernetes, read my article series <a href="." target="_blank">Kubernetes the Right Way</a>.</p></div></div></div><!--/$--></div><div class="MuiContainer-root mui-yjj9hp">© 2021 <!-- -->Nadun De Silva</div><div class="MuiBox-root mui-1xkhxpi" role="presentation" style="transform:scale(0);visibility:hidden"><button class="MuiButtonBase-root MuiFab-root MuiFab-circular MuiFab-sizeSmall MuiFab-primary MuiFab-root MuiFab-circular MuiFab-sizeSmall MuiFab-primary mui-evuzhl" tabindex="0" type="button" aria-label="scroll back to top"><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium mui-zfa56r" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="KeyboardArrowUpIcon"><path d="M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></svg></button></div></main><script src="/_next/static/chunks/webpack-d62b6ed73f463541.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/934c4b7cb736f2a3-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/bb34c8c73271b743.css\",\"style\"]\n3:HL[\"/_next/static/css/20162aa30165e3b5.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"4:I[95751,[],\"\"]\n6:I[25218,[\"5519\",\"static/chunks/5519-fc00dcffedb96ed8.js\",\"1809\",\"static/chunks/1809-c84df223d1aad7ff.js\",\"133\",\"static/chunks/133-f3cfefdfb52d535c.js\",\"231\",\"static/chunks/231-eaef0a0bd2a9ac24.js\",\"3037\",\"static/chunks/3037-d0ed743c76ee64f8.js\",\"3672\",\"static/chunks/app/(content)/blog-articles/(articles)/kubernetes-the-right-way/speeding-up-pod-startup-in-an-autoscaling-cluster/page-fd90395f7728e038.js\"],\"\"]\n7:I[82591,[\"5519\",\"static/chunks/5519-fc00dcffedb96ed8.js\",\"1809\",\"static/chunks/1809-c84df223d1aad7ff.js\",\"133\",\"static/chunks/133-f3cfefdfb52d535c.js\",\"231\",\"static/chunks/231-eaef0a0bd2a9ac24.js\",\"3037\",\"static/chunks/3037-d0ed743c76ee64f8.js\",\"3672\",\"static/chunks/app/(content)/blog-articles/(articles)/kubernetes-the-right-way/speeding-up-pod-startup-in-an-autoscaling-cluster/page-fd90395f7728e038.js\"],\"\"]\n8:I[13180,[\"5519\",\"static/chunks/5519-fc00dcffedb96ed8.js\",\"1809\",\"static/chunks/1809-c84df223d1aad7ff.js\",\"133\",\"static/chunks/133-f3cfefdfb52d535c.js\",\"231\",\"static/chunks/231-eaef0a0bd2a9ac24.js\",\"3037\",\"static/chunks/3037-d0ed743c76ee64f8.js\",\"3672\",\"static/chunks/app/(content)/blog-articles/(articles)/kubernetes-the-right-way/speeding-up-pod-startup-in-an-autoscaling-cluster/page-fd90395f7728e038.js\"],\"\"]\n9:I[231,[\"5519\",\"static/chunks/5519-fc00dcffedb96ed8.js\",\"1809\",\"static/chunks/1809-c84df223d1aad7ff.js\",\"133\",\"static/chunks/133-f3cfefdfb52d535c.js\",\"231\",\"static/chunks/231-eaef0a0bd2a9ac24.js\",\"3037\",\"static/chunks/3037-d0ed743c76ee64f8.js\",\"3672\",\"static/chunks/app/(content)/blog-articles/(articles)/kubernetes-the-right-way/speeding-up-pod-startup-in-an-autoscaling-cluster/page-fd90395f7728e038.js\"],\"\"]\na:I[80473,[\"5519\",\"static/chunks/5519-fc00dcffedb96ed8.js\",\"1809\",\"static/chunks/1809-c84df223d1aad7ff.js\",\"133\",\"static/chunks/133-f3cfefdfb52d535c.js\",\"231\",\"static/chunks/231-eaef0a0bd2a9ac24.js\",\"3037\",\"static/chunks/3037-d0ed743c76ee64f8.js\",\"3672\",\"static/chunks/app/(content)/blog-articles/(articles)/kubernetes-the-right-way/speeding-up-pod-startup-in-an-autoscaling-cl"])</script><script>self.__next_f.push([1,"uster/page-fd90395f7728e038.js\"],\"default\"]\nb:I[39275,[],\"\"]\nc:I[61343,[],\"\"]\nd:I[70902,[\"5519\",\"static/chunks/5519-fc00dcffedb96ed8.js\",\"133\",\"static/chunks/133-f3cfefdfb52d535c.js\",\"231\",\"static/chunks/231-eaef0a0bd2a9ac24.js\",\"9442\",\"static/chunks/9442-344ee58dc7523b9b.js\",\"6150\",\"static/chunks/6150-52f2e32b6dcfdd39.js\",\"8948\",\"static/chunks/app/(content)/layout-de9a7afb3aedea70.js\"],\"\"]\ne:I[75938,[\"5519\",\"static/chunks/5519-fc00dcffedb96ed8.js\",\"133\",\"static/chunks/133-f3cfefdfb52d535c.js\",\"231\",\"static/chunks/231-eaef0a0bd2a9ac24.js\",\"9442\",\"static/chunks/9442-344ee58dc7523b9b.js\",\"6150\",\"static/chunks/6150-52f2e32b6dcfdd39.js\",\"8948\",\"static/chunks/app/(content)/layout-de9a7afb3aedea70.js\"],\"default\"]\nf:I[84080,[\"5519\",\"static/chunks/5519-fc00dcffedb96ed8.js\",\"133\",\"static/chunks/133-f3cfefdfb52d535c.js\",\"231\",\"static/chunks/231-eaef0a0bd2a9ac24.js\",\"9442\",\"static/chunks/9442-344ee58dc7523b9b.js\",\"6150\",\"static/chunks/6150-52f2e32b6dcfdd39.js\",\"8301\",\"static/chunks/8301-51590e01576371c5.js\",\"3185\",\"static/chunks/app/layout-2127ba2fe1cb3242.js\"],\"\"]\n10:\"$Sreact.strict_mode\"\n11:I[91974,[\"5519\",\"static/chunks/5519-fc00dcffedb96ed8.js\",\"133\",\"static/chunks/133-f3cfefdfb52d535c.js\",\"231\",\"static/chunks/231-eaef0a0bd2a9ac24.js\",\"9442\",\"static/chunks/9442-344ee58dc7523b9b.js\",\"6150\",\"static/chunks/6150-52f2e32b6dcfdd39.js\",\"8301\",\"static/chunks/8301-51590e01576371c5.js\",\"3185\",\"static/chunks/app/layout-2127ba2fe1cb3242.js\"],\"default\"]\n12:I[40539,[\"5519\",\"static/chunks/5519-fc00dcffedb96ed8.js\",\"133\",\"static/chunks/133-f3cfefdfb52d535c.js\",\"231\",\"static/chunks/231-eaef0a0bd2a9ac24.js\",\"9442\",\"static/chunks/9442-344ee58dc7523b9b.js\",\"6150\",\"static/chunks/6150-52f2e32b6dcfdd39.js\",\"8301\",\"static/chunks/8301-51590e01576371c5.js\",\"3185\",\"static/chunks/app/layout-2127ba2fe1cb3242.js\"],\"default\"]\n13:I[23739,[\"5519\",\"static/chunks/5519-fc00dcffedb96ed8.js\",\"133\",\"static/chunks/133-f3cfefdfb52d535c.js\",\"231\",\"static/chunks/231-eaef0a0bd2a9ac24.js\",\"9442\",\"static/chunks/9442-344ee58dc7523b9b.js\",\"6150\",\"static/chunks/6150-5"])</script><script>self.__next_f.push([1,"2f2e32b6dcfdd39.js\",\"8948\",\"static/chunks/app/(content)/layout-de9a7afb3aedea70.js\"],\"default\"]\n14:I[62446,[\"5519\",\"static/chunks/5519-fc00dcffedb96ed8.js\",\"133\",\"static/chunks/133-f3cfefdfb52d535c.js\",\"6150\",\"static/chunks/6150-52f2e32b6dcfdd39.js\",\"7601\",\"static/chunks/app/error-d14bf575815a6149.js\"],\"default\"]\n19:I[57441,[\"133\",\"static/chunks/133-f3cfefdfb52d535c.js\",\"8555\",\"static/chunks/app/loading-646abc2b9f1e265c.js\"],\"\"]\n1b:I[96314,[\"6470\",\"static/chunks/app/global-error-56a600f8a7d7e227.js\"],\"default\"]\n15:{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"}\n16:{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"}\n17:{\"display\":\"inline-block\"}\n18:{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0}\n1c:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/bb34c8c73271b743.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"4MGeXC5elbxwvTYZZXA7t\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/blog-articles/kubernetes-the-right-way/speeding-up-pod-startup-in-an-autoscaling-cluster\",\"initialTree\":[\"\",{\"children\":[\"(content)\",{\"children\":[\"blog-articles\",{\"children\":[\"(articles)\",{\"children\":[\"kubernetes-the-right-way\",{\"children\":[\"speeding-up-pod-startup-in-an-autoscaling-cluster\",{\"children\":[\"__PAGE__\",{}]}]}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"(content)\",{\"children\":[\"blog-articles\",{\"children\":[\"(articles)\",{\"children\":[\"kubernetes-the-right-way\",{\"children\":[\"speeding-up-pod-startup-in-an-autoscaling-cluster\",{\"children\":[\"__PAGE__\",{},[[\"$L5\",[\"$\",\"$L6\",null,{\"children\":[[\"$\",\"$L7\",null,{\"variant\":\"h1\",\"gutterBottom\":true,\"children\":\"Kubernetes the Right Way: Speeding Up Pod Startup in an Autoscaling Cluster\"}],[\"$\",\"$L7\",null,{\"variant\":\"body2\",\"sx\":{\"mb\":2,\"color\":\"#888888\"},\"children\":[\"Published on\",\" \",\"Jun 8, 2023\"]}],[\"$\",\"$L7\",null,{\"variant\":\"body2\",\"sx\":{\"mb\":2,\"color\":\"#555555\"},\"children\":\"At K8s Cluster scale-up time the new Pods have a high startup time as the Node startup time adds up to the Pod startup time. This article outlines how you can work around that and reduce the overall startup time.\"}],[\"$\",\"$L6\",null,{\"sx\":{\"mb\":5},\"children\":[\"$\",\"$L8\",null,{\"size\":\"small\",\"variant\":\"outlined\",\"LinkComponent\":\"$9\",\"href\":\"https://faun.pub/speeding-up-pod-startup-in-an-autoscaling-kubernetes-cluster-fb98dbca88ba\",\"target\":\"_blank\",\"endIcon\":[\"$\",\"$La\",null,{}],\"children\":\"Medium\"}]}],[[\"$\",\"p\",null,{\"children\":[\"In most of the managed Kubernetes Clusters provided by Cloud Providers, you can enable autoscaling of the K8s Cluster so that when new workloads are added into the cluster, if there is no space in the existing nodes in the cluster, new nodes are added to the Cluster automatically. This is generally done using the \",[\"$\",\"a\",null,{\"href\":\"https://github.com/kubernetes/autoscaler/tree/master/cluster-autoscaler\",\"children\":\"K8s Cluster Autoscaler\",\"target\":\"_blank\"}],\" provided by Kubernetes itself.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"One of the key aspects to note here is that the new nodes are added to the cluster after a Pod fails to schedule due to insufficient resources being available in the cluster. This allows us to add nodes only when required saving some money for us.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"However, there is one downside to it as the Node startup time now adds up to the Pod startup time. While in most cases, this is sufficient, it can sometimes be problematic (For example in Operator-based deployments where we have to provision new Pods dynamically to serve new users upon request). This article outlines how you can work around this problem by having a set of buffer Pods over-provisioning Nodes slightly, which will step out of the way and provide space for the actual workloads if required.\"}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"$L7\",null,{\"variant\":\"h2\",\"gutterBottom\":true,\"children\":\"Using Priority Classes\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The Priority Classes provide the capability for us to specify the relative priority between Pods in scheduling them into Nodes. On top of that, when a higher priority Pod needs to be scheduled, the K8s scheduler will preempt any lower priority Pod as required to make space for the higher priority Pod. At this point, the preempted less-priority Pods would enter a \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"dracula\",\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"Pending\"}]}]}]}],\" state until space to schedule them is available within the K8s cluster.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"We can utilize this behavior to schedule some Pods to act as buffer space which can be utilized by the actual Pods whenever required. Whenever the cluster runs out of space and the buffer Pods enter the Pending state, the K8s Cluster Autoscaler would startup a node and try to schedule the Buffer Pods again. While this is happening, the actual workload Pods would be scheduled into the space left out by the Buffer Pods which went into Pending state.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This in a way lets us transfer the Node startup time penalty away from the workload Pod startup time and move it to the startup time of the Buffer Pods. This results in the Workload startup time to reduce.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":\"Let’s see how we can implement this.\"}]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"$L7\",null,{\"variant\":\"h2\",\"gutterBottom\":true,\"children\":\"Buffer Pods\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Let’s first define a Priority Class for the Buffer Pods. We need to give a name for the class as well as a \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"dracula\",\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"value\"}]}]}]}],\" representing the priority that should be given to any Pod which has the Priority Class. Pods with a Priority Class with a higher \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"dracula\",\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"value\"}]}]}]}],\" is given higher priority compared to others. Although in the example below, I have set this to zero, it can have any value that you wish (The \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"dracula\",\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"value\"}]}]}]}],\" needs to be between -2,147,483,648 and 1,000,000,000 inclusive).\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"tabIndex\":\"0\",\"data-language\":\"yaml\",\"data-theme\":\"dracula\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"yaml\",\"data-theme\":\"dracula\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"apiVersion\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" scheduling.k8s.io/v1\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"kind\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" PriorityClass\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"metadata\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"    name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" buffering-priority\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"value\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#BD93F9\"},\"children\":\" 0\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"description\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\"This Priority Class lowers the priority of Buffer Pods\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\"\\\"\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The next step is to create Pods and signal to the K8s Pod scheduler the Priority Class they belong to. It can be done by specifying the Priority Class name in the \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"dracula\",\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"priorityClassName\"}]}]}]}],\" field in the Pod spec. You can also add any other required resources (such as Services, Ingresses, and Network Policies) as you wish.\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"tabIndex\":\"0\",\"data-language\":\"yaml\",\"data-theme\":\"dracula\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"yaml\",\"data-theme\":\"dracula\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"apiVersion\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" apps/v1\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"kind\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" Deployment\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"metadata\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"    name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" buffer-deployment\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"    labels\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"        app\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" buffer\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"spec\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"    replicas\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#BD93F9\"},\"children\":\" 2\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"    selector\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"        matchLabels\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"            app\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" buffer\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"    template\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"        metadata\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"            labels\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                app\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" buffer\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"        spec\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"            priorityClassName\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" buffering-priority\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"            containers\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\"                -\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\" name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" pause\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                  image\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" google/pause\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                  resources\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                      requests\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                          memory\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\"1Gi\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\"\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                          cpu\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\"500m\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\"\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                      limits\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                          memory\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\"1Gi\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\"\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                          cpu\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\"500m\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\"\\\"\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"It is also important to specify the resource limits and requests accordingly so that these buffer Pods will allocate the correct amount of additional resources, which will be reserved for your actual workload Pods. This can be as high or low as you like and the number of replicas can be also used to control the reserved resources.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"If you have one type of workload, my recommendation is to match the resource requests and limits exactly to the workload resource requests and limits so that you can control the maximum spike of new Pods created that the cluster can handle by using \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"dracula\",\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"replicas\"}]}]}]}],\" in a more predictable manner. Also, I would recommend using the \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"dracula\",\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"google/pause\"}]}]}]}],\" container image or a similar image, which wouldn’t do any actual work, for the buffer Pods.\"]}],\"\\n\",[\"$\",\"$L7\",null,{\"variant\":\"h2\",\"gutterBottom\":true,\"children\":\"Workload Pods\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The Priority Class for the workload Pods can be created similarly. The only requirement is that the \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"dracula\",\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"value\"}]}]}]}],\" of this Priority Class should be higher than the Priority Class of the Buffer Pods (greater than 0 according to our example).\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"tabIndex\":\"0\",\"data-language\":\"yaml\",\"data-theme\":\"dracula\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"yaml\",\"data-theme\":\"dracula\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"apiVersion\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" scheduling.k8s.io/v1\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"kind\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" PriorityClass\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"metadata\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"    name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" normal-priority\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"value\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#BD93F9\"},\"children\":\" 100\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"description\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\"This Priority Class increases the priority of other workload pods\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\"\\\"\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The workload Deployment (or any other K8s resource which creates Pods), can be created similarly and the \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"dracula\",\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"priorityClassName\"}]}]}]}],\" field should point to the above Priority Class.\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"tabIndex\":\"0\",\"data-language\":\"yaml\",\"data-theme\":\"dracula\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"yaml\",\"data-theme\":\"dracula\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"apiVersion\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" apps/v1\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"kind\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" Deployment\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"metadata\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"    name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" workload-deployment\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"    labels\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"        app\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" workload\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"spec\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"    replicas\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#BD93F9\"},\"children\":\" 1\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"    selector\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"        matchLabels\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"            app\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" workload\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"    template\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"        metadata\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"            labels\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                app\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" workload\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"        spec\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"            priorityClassName\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" normal-priority\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"            containers\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\"                -\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\" name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" nginx\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                  image\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" nginx:1.25.0\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                  ports\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\"                      -\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\" containerPort\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#BD93F9\"},\"children\":\" 80\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                  resources\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                      requests\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                          memory\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\"1Gi\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\"\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                          cpu\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\"500m\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\"\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                      limits\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                          memory\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\"1Gi\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\"\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"                          cpu\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\"500m\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\"\\\"\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Now we are all set. If you create the above resources, you can see how the Buffer Pods will move to \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"dracula\",\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"Pending\"}]}]}]}],\" state immediately whenever a workload Pod does not have enough space within the K8s Cluster. I have written down the \",[\"$\",\"a\",null,{\"href\":\"https://github.com/nadundesilva/blog-support/tree/main/articles/speeding-up-pod-startup-in-an-autoscaling-kubernetes-cluster\",\"children\":\"K8s resources\",\"target\":\"_blank\"}],\" which you can use to test this out yourself if you wish. After creating the resources, try to scale up the workload Deployment and note how once the K8s Cluster is full, the Buffer Pods would start to back off and let the Workload Pods run.\"]}],\"\\n\",[\"$\",\"$L7\",null,{\"variant\":\"h2\",\"gutterBottom\":true,\"children\":\"Global Priority Class\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"If you are creating many different Pods, it might get troublesome to specify the \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"dracula\",\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"priorityClassName\"}]}]}]}],\" for all workload Pods. If that is the case, you can set the default priority for all Pods at a global level by creating a Global Priority Class.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"This can be done by creating a Priority Class similar to before and setting the \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"dracula\",\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"globalDefault\"}]}]}]}],\" to \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"dracula\",\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"true\"}]}]}]}],\" in it. There can only be one Priority Class with \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"dracula\",\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"globalDefault\"}]}]}]}],\" set to \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"dracula\",\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"true\"}]}]}]}],\" within one Cluster.\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"tabIndex\":\"0\",\"data-language\":\"yaml\",\"data-theme\":\"dracula\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"yaml\",\"data-theme\":\"dracula\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"apiVersion\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" scheduling.k8s.io/v1\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"kind\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" PriorityClass\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"metadata\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"    name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\" default-priority\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"value\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#BD93F9\"},\"children\":\" 100\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"globalDefault\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#BD93F9\"},\"children\":\" true\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#8BE9FD\"},\"children\":\"description\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FF79C6\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F1FA8C\"},\"children\":\"This Priority Class set the default priority level for all Pods\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E9F284\"},\"children\":\"\\\"\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"According to the above example, all Pods which does not have the \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"dracula\",\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"priorityClassName\"}]}]}]}],\" field would have a priority value of \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"dracula\",\"style\":{\"backgroundColor\":\"#282A36\",\"color\":\"#F8F8F2\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"100\"}]}]}]}],\".\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"While this technique, would overprovision resources in your cluster in the form of Buffer Pods, it also helps in speeding up the startup time when K8s Cluster Autoscaler’s scaleup events occur. In situations where you are dynamically provisioning Pods to serve users and you want the Pods to startup fast to avoid harming the end-user experience, you can use this technique.\"}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"If you liked this article and would love to learn more about best practices on implementing, deploying, and maintaining applications on Kubernetes, read my article series \",[\"$\",\"a\",null,{\"href\":\".\",\"children\":\"Kubernetes the Right Way\",\"target\":\"_blank\"}],\".\"]}]]]}]],null],null]},[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(content)\",\"children\",\"blog-articles\",\"children\",\"(articles)\",\"children\",\"kubernetes-the-right-way\",\"children\",\"speeding-up-pod-startup-in-an-autoscaling-cluster\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lc\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(content)\",\"children\",\"blog-articles\",\"children\",\"(articles)\",\"children\",\"kubernetes-the-right-way\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lc\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(content)\",\"children\",\"blog-articles\",\"children\",\"(articles)\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lc\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null],null]},[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(content)\",\"children\",\"blog-articles\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lc\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/20162aa30165e3b5.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],null]},[[\"$\",\"$Ld\",null,{\"maxWidth\":false,\"disableGutters\":true,\"sx\":{\"mb\":5,\"px\":{\"xs\":0,\"lg\":20,\"xl\":40}},\"children\":[[\"$\",\"$Le\",null,{}],[\"$\",\"$Ld\",null,{\"maxWidth\":false,\"children\":[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(content)\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lc\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}]]}],null],null]},[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"meta\",null,{\"charSet\":\"UTF-8\"}],[\"$\",\"meta\",null,{\"httpEquiv\":\"X-DNS-Prefetch-Control\",\"content\":\"on\"}],[\"$\",\"meta\",null,{\"httpEquiv\":\"Strict-Transport-Security\",\"content\":\"max-age=63072000; includeSubDomains; preload\"}],[\"$\",\"meta\",null,{\"httpEquiv\":\"X-XSS-Protection\",\"content\":\"1; mode=block\"}],[\"$\",\"meta\",null,{\"httpEquiv\":\"Permissions-Policy\",\"content\":\"\"}],[\"$\",\"meta\",null,{\"httpEquiv\":\"X-Content-Type-Options\",\"content\":\"nosniff\"}],[\"$\",\"meta\",null,{\"httpEquiv\":\"Content-Security-Policy\",\"content\":\"default-src 'none'; manifest-src 'self'; img-src 'self' data: https://nadundesilva.imgix.net https://www.google.lk https://www.googletagmanager.com; style-src 'unsafe-inline'; style-src-elem 'self' 'unsafe-inline'; font-src 'self'; script-src 'self' https://www.googletagmanager.com http://www.googletagmanager.com 'unsafe-inline'; worker-src 'self' blob:; child-src 'self' blob:; connect-src 'self' https://www.google-analytics.com https://o4507214991917056.ingest.us.sentry.io\"}],[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://nadundesilva.imgix.net\"}],[\"$\",\"meta\",null,{\"property\":\"fb:app_id\",\"content\":\"567329184466353\"}],[\"$\",\"meta\",null,{\"property\":\"og:fb:profile_id\",\"content\":\"nadunrds\"}],[\"$\",\"$Lf\",null,{\"async\":true,\"defer\":true,\"src\":\"https://www.googletagmanager.com/gtag/js?id=GTM-T9KX7B4\"}],[\"$\",\"$Lf\",null,{\"id\":\"google-tag-manager\",\"dangerouslySetInnerHTML\":{\"__html\":\"\\n                            window.dataLayer = window.dataLayer || [];\\n                            function gtag() {\\n                                dataLayer.push(arguments);\\n                            }\\n                            gtag(\\\"js\\\", new Date());\\n                            gtag(\\\"config\\\", \\\"GTM-T9KX7B4\\\", {\\n                                page_path: window.location.pathname,\\n                            });\\n                        \"}}]]}],[\"$\",\"body\",null,{\"children\":[[\"$\",\"noscript\",null,{\"children\":[\"$\",\"iframe\",null,{\"src\":\"https://www.googletagmanager.com/ns.html?id=GTM-T9KX7B4\",\"height\":\"0\",\"width\":\"0\",\"style\":{\"display\":\"none\",\"visibility\":\"hidden\"}}]}],[\"$\",\"main\",null,{\"children\":[\"$\",\"$10\",null,{\"children\":[[\"$\",\"$L11\",null,{}],[\"$\",\"$L12\",null,{\"children\":[\"$\",\"$L13\",null,{\"children\":[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$14\",\"errorStyles\":[],\"errorScripts\":[],\"template\":[\"$\",\"$Lc\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":\"$15\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":\"$16\",\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":\"$17\",\"children\":[\"$\",\"h2\",null,{\"style\":\"$18\",\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}]}]]}]}]]}]]}],null],[[\"$\",\"$L6\",null,{\"sx\":{\"display\":\"flex\",\"justifyContent\":\"center\",\"pt\":\"25%\",\"height\":\"100vh\"},\"children\":[\"$\",\"$L19\",null,{}]}],[],[]]],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$L1a\"],\"globalErrorComponent\":\"$1b\",\"missingSlots\":\"$W1c\"}]]\n"])</script><script>self.__next_f.push([1,"1a:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1, minimum-scale=1, viewport-fit=cover, user-scalable=yes, interactive-widget=resizes-visual\"}],[\"$\",\"meta\",\"1\",{\"name\":\"theme-color\",\"media\":\"(prefers-color-scheme: light)\",\"content\":\"#3f51b5\"}],[\"$\",\"meta\",\"2\",{\"name\":\"theme-color\",\"media\":\"(prefers-color-scheme: dark)\",\"content\":\"#000000\"}],[\"$\",\"meta\",\"3\",{\"name\":\"color-scheme\",\"content\":\"light\"}],[\"$\",\"meta\",\"4\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"5\",{\"children\":\"Kubernetes the Right Way: Speeding Up Pod Startup in an Autoscaling Cluster\"}],[\"$\",\"meta\",\"6\",{\"name\":\"description\",\"content\":\"At K8s Cluster scale-up time the new Pods have a high startup time as the Node startup time adds up to the Pod startup time. This article outlines how you can work around that and reduce the overall startup time.\"}],[\"$\",\"meta\",\"7\",{\"name\":\"application-name\",\"content\":\"Nadun De Silva\"}],[\"$\",\"link\",\"8\",{\"rel\":\"author\",\"href\":\"https://nadundesilva.github.io\"}],[\"$\",\"meta\",\"9\",{\"name\":\"author\",\"content\":\"Nadun De Silva\"}],[\"$\",\"link\",\"10\",{\"rel\":\"manifest\",\"href\":\"/manifest.webmanifest\",\"crossOrigin\":\"use-credentials\"}],[\"$\",\"meta\",\"11\",{\"name\":\"generator\",\"content\":\"Next.js\"}],[\"$\",\"meta\",\"12\",{\"name\":\"keywords\",\"content\":\"Nadun,Rusiru,De Silva,Nadun De Silva,Nadun Rusiru De Silva,Kurukulasuriya Patabandige Nadun Rusiru De Silva,Software Engineer\"}],[\"$\",\"meta\",\"13\",{\"name\":\"referrer\",\"content\":\"origin\"}],[\"$\",\"meta\",\"14\",{\"name\":\"creator\",\"content\":\"Nadun De Silva\"}],[\"$\",\"meta\",\"15\",{\"name\":\"publisher\",\"content\":\"Nadun De Silva\"}],[\"$\",\"meta\",\"16\",{\"name\":\"robots\",\"content\":\"https://nadundesilva.github.io/robots.txt\"}],[\"$\",\"link\",\"17\",{\"rel\":\"canonical\",\"href\":\"https://nadundesilva.github.io\"}],[\"$\",\"meta\",\"18\",{\"name\":\"format-detection\",\"content\":\"telephone=no, date=no, address=no, email=no, url=no\"}],[\"$\",\"meta\",\"19\",{\"name\":\"google-site-verification\",\"content\":\"M8dg6gzVYU0noXFvsPOqknm_WjREFeNE212YeUk0g30\"}],[\"$\",\"meta\",\"20\",{\"name\":\"yandex-verification\",\"content\":\"acbc45e5d9645cf0\"}],[\"$\",\"meta\",\"21\",{\"name\":\"apple-mobile-web-app-capable\",\"content\":\"yes\"}],[\"$\",\"link\",\"22\",{\"href\":\"https://nadundesilva.github.io/assets/profile-photo.jpg\",\"media\":\"image/jpeg\",\"rel\":\"apple-touch-startup-image\"}],[\"$\",\"meta\",\"23\",{\"name\":\"apple-mobile-web-app-status-bar-style\",\"content\":\"black-translucent\"}],[\"$\",\"link\",\"24\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"256x256\"}],[\"$\",\"meta\",\"25\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"5:null\n"])</script></body></html>