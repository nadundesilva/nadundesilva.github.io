{"version":3,"file":"static/chunks/pages/blog/posts/database-agnosticpagination-of-time-series-results-f39326be199da37d.js","mappings":"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","sources":["webpack://_N_E/./components/layout/BlogPostLayout.tsx","webpack://_N_E/./constants/routes.tsx","webpack://_N_E/./components/layout/Layout.tsx","webpack://_N_E/./components/layout/RouterBreadcrumbs.tsx","webpack://_N_E/./components/layout/LayoutContent.tsx","webpack://_N_E/./components/layout/scrolling.tsx","webpack://_N_E/./components/layout/index.tsx","webpack://_N_E/./pages/blog/posts/database-agnosticpagination-of-time-series-results.mdx","webpack://_N_E/?d028"],"sourcesContent":["/*\n * Copyright (c) 2022, Nadun De Silva. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *   http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Typography, Container } from \"@mui/material\";\nimport Head from \"next/head\";\nimport Image from \"next/image\";\n\nimport Layout, { LayoutContent } from \"@/components/layout\";\nimport { ImageAssertFromSource } from \"@/constants/images\";\n\ninterface BlogPostTitleProps {\n    children: React.ReactNode;\n}\n\nconst BlogPostTitle = ({\n    children,\n}: BlogPostTitleProps): React.ReactElement => (\n    <Typography\n        variant=\"h3\"\n        component=\"h1\"\n        sx={{ pt: 2, fontWeight: \"bold\", fontSize: 35 }}\n    >\n        {children}\n    </Typography>\n);\n\nexport interface BlogPostMetadata {\n    title: string;\n    description: string;\n    publishedDate: string;\n    mainImage: ImageAssertFromSource;\n}\n\ninterface BlogPostLayoutProps {\n    metadata: BlogPostMetadata;\n    children: React.ReactNode;\n}\n\nconst BlogPostLayout = ({\n    children,\n    metadata,\n}: BlogPostLayoutProps): React.ReactElement => (\n    <Container maxWidth={false} disableGutters>\n        <Head>\n            <title>{metadata.title}</title>\n        </Head>\n\n        <Layout>\n            <LayoutContent>\n                <BlogPostTitle>{metadata.title}</BlogPostTitle>\n                <Container\n                    sx={{ position: \"relative\", height: 500, my: 2 }}\n                    disableGutters\n                >\n                    <Image\n                        layout=\"fill\"\n                        objectFit=\"cover\"\n                        src={metadata.mainImage.src}\n                        alt={metadata.mainImage.alt}\n                        placeholder=\"blur\"\n                        blurDataURL={metadata.mainImage.blurDataURL}\n                    />\n                </Container>\n                {children}\n            </LayoutContent>\n        </Layout>\n    </Container>\n);\n\nexport default BlogPostLayout;\n","/*\n * Copyright (c) 2022, Nadun De Silva. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *   http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport interface Route {\n    name: string;\n    subRoutes?: { [key: string]: Route };\n}\n\nexport const ANY_ROUTE = \"*\";\n\nexport const Routes: { [key: string]: Route } = {\n    \"/experience\": {\n        name: \"Experience\",\n    },\n    \"/achievements\": {\n        name: \"Achievements\",\n    },\n    \"/education\": {\n        name: \"Education\",\n        subRoutes: {\n            \"/certifications\": {\n                name: \"Certifications\",\n            },\n        },\n    },\n    \"/blog\": {\n        name: \"Blog\",\n        subRoutes: {\n            [ANY_ROUTE]: {\n                name: \"Post\",\n            },\n        },\n    },\n};\n","/*\n * Copyright (c) 2021, Nadun De Silva. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *   http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { faChevronUp, faSun, faMoon } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Menu as MenuIcon } from \"@mui/icons-material\";\nimport {\n    AppBar,\n    Box,\n    Button,\n    Container,\n    Drawer,\n    Fab,\n    IconButton,\n    List,\n    ListItem,\n    ListItemText,\n    Toolbar,\n    Tooltip,\n    Typography,\n    useScrollTrigger,\n    Zoom,\n} from \"@mui/material\";\nimport Link from \"next/link\";\nimport React, { useRef } from \"react\";\n\nimport { useWebsiteTheme } from \"./theme\";\nimport { Routes } from \"@/constants/routes\";\n\ninterface LayoutProps {\n    children: NonNullable<React.ReactNode>;\n    window?: () => Window;\n}\n\nconst Layout = ({ children, window }: LayoutProps): React.ReactElement => {\n    const trigger = useScrollTrigger({\n        disableHysteresis: true,\n        threshold: 0,\n        target: window !== undefined ? window() : undefined,\n    });\n\n    const scrollToTopRef = useRef<HTMLDivElement>(null);\n\n    const [isDrawerOpen, setDrawerOpen] = React.useState<boolean>(false);\n    const toggleDrawer = (): void => setDrawerOpen(!isDrawerOpen);\n\n    const { colorScheme, setColorScheme } = useWebsiteTheme();\n    const nextColorScheme = colorScheme === \"dark\" ? \"light\" : \"dark\";\n    const onThemeToggleChange = (): void => setColorScheme(nextColorScheme);\n\n    const drawer = (\n        <React.Fragment>\n            <IconButton\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n                onClick={toggleDrawer}\n                edge=\"start\"\n                sx={{\n                    mr: 2,\n                    display: {\n                        xs: \"block\",\n                        md: \"none\",\n                    },\n                }}\n            >\n                <MenuIcon />\n            </IconButton>\n            <Drawer anchor={\"top\"} open={isDrawerOpen} onClose={toggleDrawer}>\n                <Box\n                    sx={{ width: \"auto\" }}\n                    onClick={toggleDrawer}\n                    onKeyDown={toggleDrawer}\n                >\n                    <List>\n                        {Object.entries(Routes).map(([path, route]) => (\n                            <Link key={path} href={path} passHref>\n                                <ListItem button>\n                                    <ListItemText primary={route.name} />\n                                </ListItem>\n                            </Link>\n                        ))}\n                    </List>\n                </Box>\n            </Drawer>\n        </React.Fragment>\n    );\n\n    const appBar = React.cloneElement(\n        <AppBar data-testid={\"app-bar\"}>\n            <Toolbar>\n                {drawer}\n                <Typography variant=\"h5\" component=\"h1\">\n                    Nadun De Silva\n                </Typography>\n                <Box sx={{ flexGrow: 1 }} />\n                <Box sx={{ display: { xs: \"none\", md: \"block\" } }}>\n                    {Object.entries(Routes).map(([path, route]) => (\n                        <Link key={path} href={path} passHref={true}>\n                            <Button\n                                variant=\"text\"\n                                color=\"primary\"\n                                disableElevation\n                                sx={{ color: \"#ffffff\", pl: 2 }}\n                            >\n                                {route.name}\n                            </Button>\n                        </Link>\n                    ))}\n                </Box>\n                <Tooltip title={`Change to ${nextColorScheme} theme`}>\n                    <IconButton\n                        sx={{ marginLeft: 5 }}\n                        size=\"small\"\n                        onClick={onThemeToggleChange}\n                    >\n                        <FontAwesomeIcon\n                            icon={nextColorScheme === \"dark\" ? faMoon : faSun}\n                            transform={\"grow-4\"}\n                        />\n                    </IconButton>\n                </Tooltip>\n            </Toolbar>\n        </AppBar>,\n        {\n            elevation: trigger ? 4 : 0,\n        },\n    );\n\n    const handleClick = (): void => {\n        scrollToTopRef.current?.scrollIntoView({\n            behavior: \"smooth\",\n            block: \"start\",\n        });\n    };\n\n    return (\n        <React.Fragment>\n            {appBar}\n            <Toolbar ref={scrollToTopRef} />\n            <Container\n                maxWidth={false}\n                disableGutters\n                sx={{ overflowX: \"hidden\" }}\n            >\n                {children}\n            </Container>\n            <Container\n                maxWidth={false}\n                sx={{\n                    textAlign: \"center\",\n                    paddingTop: 10,\n                    paddingBottom: 5,\n                    color: \"#666666\",\n                }}\n            >\n                &copy; 2021 Nadun De Silva\n            </Container>\n            <Zoom in={trigger}>\n                <Box\n                    onClick={handleClick}\n                    role=\"presentation\"\n                    sx={{\n                        position: \"fixed\",\n                        bottom: 10,\n                        right: 10,\n                    }}\n                >\n                    <Fab\n                        color=\"primary\"\n                        size=\"small\"\n                        aria-label=\"scroll back to top\"\n                    >\n                        <FontAwesomeIcon icon={faChevronUp} />\n                    </Fab>\n                </Box>\n            </Zoom>\n        </React.Fragment>\n    );\n};\n\nexport default Layout;\n","/*\n * Copyright (c) 2021, Nadun De Silva. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *   http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Breadcrumbs, Link as BreadcrumbLink, Typography } from \"@mui/material\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport React from \"react\";\n\nimport { Routes, Route, ANY_ROUTE } from \"@/constants/routes\";\n\nconst RouterBreadcrumbs = (): React.ReactElement | null => {\n    const router = useRouter();\n    const pathnames = router.pathname.split(\"/\").filter((x) => x);\n\n    const breadcrumbs: Array<{ name: string; path?: string }> = [\n        {\n            name: \"Home\",\n            path: pathnames.length > 0 ? \"/\" : undefined,\n        },\n    ];\n    if (pathnames.length > 0) {\n        const visitRoutes = (\n            currentRoutes: { [key: string]: Route },\n            currentPathnames: string[],\n            currentBasePath: string,\n        ): void => {\n            if (currentPathnames.length > 0) {\n                const currentSubPath = \"/\" + currentPathnames[0];\n                if (currentSubPath in currentRoutes) {\n                    const route = currentRoutes[currentSubPath];\n                    if (currentPathnames.length > 1) {\n                        const currentPath = currentBasePath + currentSubPath;\n                        breadcrumbs.push({\n                            name: route.name,\n                            path: currentPath,\n                        });\n                        if (route.subRoutes !== undefined) {\n                            visitRoutes(\n                                route.subRoutes,\n                                currentPathnames.slice(1),\n                                currentPath,\n                            );\n                        }\n                    } else {\n                        breadcrumbs.push({\n                            name: route.name,\n                        });\n                    }\n                } else if (ANY_ROUTE in currentRoutes) {\n                    const route = currentRoutes[ANY_ROUTE];\n                    breadcrumbs.push({\n                        name: route.name,\n                    });\n                }\n            }\n        };\n        visitRoutes(Routes, pathnames, \"\");\n    }\n\n    return (\n        <Breadcrumbs\n            aria-label=\"breadcrumb\"\n            sx={{ margin: 3 }}\n            separator={\n                <FontAwesomeIcon icon={faChevronRight} transform={\"shrink-4\"} />\n            }\n        >\n            {breadcrumbs.map((breadcrumb) => {\n                return breadcrumb.path === undefined ? (\n                    <Typography color=\"textPrimary\" key={breadcrumb.name}>\n                        {breadcrumb.name}\n                    </Typography>\n                ) : (\n                    <Link passHref href={breadcrumb.path} key={breadcrumb.name}>\n                        <BreadcrumbLink color=\"inherit\">\n                            {breadcrumb.name}\n                        </BreadcrumbLink>\n                    </Link>\n                );\n            })}\n        </Breadcrumbs>\n    );\n};\n\nexport default RouterBreadcrumbs;\n","/*\n * Copyright (c) 2021, Nadun De Silva. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *   http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Container } from \"@mui/material\";\nimport React from \"react\";\n\nimport RouterBreadcrumbs from \"./RouterBreadcrumbs\";\n\ninterface LayoutContentProps {\n    children: React.ReactNode;\n}\n\nconst LayoutContent = ({\n    children,\n}: LayoutContentProps): React.ReactElement => (\n    <Container\n        maxWidth={false}\n        disableGutters\n        sx={{\n            marginBottom: 5,\n            px: {\n                xs: 0,\n                lg: 20,\n                xl: 40,\n            },\n        }}\n    >\n        <RouterBreadcrumbs />\n        <Container maxWidth={false}>{children}</Container>\n    </Container>\n);\n\nexport default LayoutContent;\n","/*\n * Copyright (c) 2021, Nadun De Silva. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *   http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { MutableRefObject, useEffect, useState, useRef } from \"react\";\n\n// -1 -> div partially or completely above viewport\n//  0 -> div visible in viewport\n//  1 -> div partially or completely below viewport\ntype Direction = -1 | 0 | 1;\n\ninterface UseScrollOffsetReturnValue<T> {\n    ref: MutableRefObject<T | null>;\n    direction: Direction;\n    offset: number;\n}\n\nfunction useScrollOffset<T extends Element>(): UseScrollOffsetReturnValue<T> {\n    const ref = useRef<T>(null);\n    const [direction, setDirection] = useState<Direction>(0);\n    const [offset, setOffset] = useState<number>(0);\n\n    const updateOffset = (): void => {\n        if (ref.current !== null) {\n            const refBBox = ref.current.getBoundingClientRect();\n            const viewportHeight = window.innerHeight;\n\n            let direction: Direction;\n            let newOffset: number;\n            if (refBBox.top >= viewportHeight) {\n                direction = 1;\n                newOffset = 0;\n            } else if (refBBox.bottom <= 0) {\n                direction = -1;\n                newOffset = 0;\n            } else if (refBBox.top > viewportHeight / 2) {\n                const fullPageHeight = document.documentElement.offsetHeight;\n                const yOffset = window.pageYOffset;\n                const pageBottomOffset =\n                    (yOffset + viewportHeight * 1.5 - fullPageHeight) /\n                    (viewportHeight / 2);\n                const clientRectOffset = 2 - refBBox.top / (viewportHeight / 2);\n\n                direction = 1;\n                newOffset = Math.max(pageBottomOffset, clientRectOffset);\n            } else if (refBBox.bottom < viewportHeight / 2) {\n                direction = -1;\n                newOffset = refBBox.bottom / (viewportHeight / 2);\n            } else {\n                direction = 0;\n                newOffset = 1;\n            }\n            setDirection(direction);\n            setOffset(newOffset);\n        } else {\n            setDirection(0);\n            setOffset(0);\n        }\n    };\n\n    const handleScroll = (): void => {\n        window.requestAnimationFrame(updateOffset);\n    };\n\n    useEffect(() => {\n        window.requestAnimationFrame(updateOffset);\n        window.addEventListener(\"scroll\", handleScroll);\n        return (): void => window.removeEventListener(\"scroll\", handleScroll);\n    });\n\n    return {\n        ref,\n        direction,\n        offset: Math.min(Math.max(offset, 0), 1),\n    };\n}\n\nexport default useScrollOffset;\n","/*\n * Copyright (c) 2021, Nadun De Silva. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *   http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport BlogPostLayout from \"./BlogPostLayout\";\nimport Layout from \"./Layout\";\nimport LayoutContent from \"./LayoutContent\";\nimport useScrollOffset from \"./scrolling\";\n\nexport default Layout;\n\nexport { BlogPostLayout, LayoutContent, useScrollOffset };\n","/*@jsxRuntime automatic @jsxImportSource react*/\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport {BlogPostLayout} from \"@/components/layout\";\nexport const meta = {\n  title: \"Database Agnostic Pagination of Time-Series Results\",\n  publishedDate: \"2022-06-02\",\n  description: \"A way to paginate time series results in DB side even when the DB itself doesn't support it.\",\n  mainImage: {\n    src: \"/assets/blog/database-agnosticpagination-of-time-series-results/main.jpeg\",\n    alt: \"Database Agnostic Pagination of Time-Series Results - Main Image\",\n    blurDataURL: \"data:image/webp;base64,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\",\n    source: {\n      author: \"Aron Visuals\",\n      authorUrl: \"https://unsplash.com/@aronvisuals?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\",\n      source: \"Unsplash\",\n      sourceUrl: \"https://unsplash.com/s/photos/time-series?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\"\n    }\n  }\n};\nconst MDXLayout = ({children}) => _jsx(BlogPostLayout, {\n  metadata: meta,\n  children: children\n});\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    strong: \"strong\",\n    hr: \"hr\",\n    img: \"img\",\n    h1: \"h1\",\n    ul: \"ul\",\n    li: \"li\",\n    em: \"em\",\n    pre: \"pre\",\n    code: \"code\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"If you are working with Observability or any Data Science field, chances are that you have to work with time-series\\ndata at one point or the other. This is because most practical applications of data science will include a time\\ndimension and it is generally useful to preserve this information in many cases.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"A common issue when dealing with such time-series data, is the sheer volume of data that is collected and the\\nchallenges that comes along with dealing with such data.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Today in this article, I will be focusing on one such issue, which is paginating time series data. Pagination is\\nimportant in any solution and helps clients to process or visualize data without getting overwhelmed by the the sheer\\nvolume of all the relevant data.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Moreover, most large scale time-series databases has hard limits on the number of results that can be returned in a\\nsingle query (For Azure Data Explorer this was set at 500,000 rows or 64 MB (whichever is lower) at the time I was\\nwriting the article). This can result in problems if you wish to query large amounts of data through the REST APIs.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In this article, I will be walking you through a solution which we had to implement due to the lack of database side\\npagination support in Azure Data Explorer and in other products powered by it. However, the approach used in this\\narticle is \", _jsx(_components.strong, {\n        children: \"database agnostic\"\n      }), \" and it should work with any time-series database out there.\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsx(_components.p, {\n      children: \"Now let’s take a look how to implement pagination in time-series data even without any support for it from the\\ntime-series database itself.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Note:\"\n      }), \" I have assumed that the time series database will return an error when database limits are hit along with a\\npartial results set. This is simply to follow the behavior of the Azure Data Explorer that I tested this with. However,\\nif only an error is returned without a partial results set, the algorithm can still be modified to address it).\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"//assets/blog/database-agnosticpagination-of-time-series-results/idea.jpeg\",\n        alt: \"Idea\"\n      })\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Pseudo Code for Chunking of Time-series Query Results\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Input:\"\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.em, {\n          children: \"start_time\"\n        }), \" - The last timestamp (inclusive) to include in results\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.em, {\n          children: \"end_time\"\n        }), \" - The last timestamp (exclusive) to include in results\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.em, {\n          children: \"limit\"\n        }), \" - The maximum number of rows to fetch in a single query\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Utility Functions:\"\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.em, {\n          children: \"query_database\"\n        }), \" - Query the database and return results in ascending order\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.em, {\n          children: \"process\"\n        }), \" - Process an array of results\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.em, {\n          children: \"size_of\"\n        }), \" - Get length of an array\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.em, {\n          children: \"timestamp_of\"\n        }), \" - Get the timestamp of a row of results\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.em, {\n          children: \"is_server_side_limit_error\"\n        }), \" - Returns true if the error passed in is the server side limit error\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Algorithm:\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        children: \" 1: current_start_time = start_time\\n 2: while True:\\n 3:    has_reached_server_side_limit = False\\n 4:    rows = []\\n 5:    try:\\n 6:       rows = query_database(current_start_time, end_time, limit)\\n 7:    except Exception as err:\\n 8:       if is_server_side_limit_error(err):\\n 9:          has_reached_server_limit = True\\n10:          rows = err.partial_results.rows  # Partial results set\\n11:       else:\\n12:          raise err\\n13:    row_count = size_of(rows)\\n14:    if row_count == limit or has_reached_server_side_limit:\\n15:       last_timestamp = timestamp_of(rows[row_count - 1])\\n16:       i = size_of(rows)\\n17:       while i > 0 && timestamp_of(rows[i-1]) == last_timestamp:\\n18:         i--\\n19:       if i == 0:\\n20:         raise Error(\\\"Unsupported condition: limit too small\\\")\\n21:       rows = rows[0:i] # Dropping all rows with last timestamp\\n22:       current_start_time = last_timestamp\\n23:       process(rows)\\n24:    else:\\n25:       if row_count > 0:\\n26:          process(rows)\\n27:       break\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Explanation\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The most important aspect of any pagination algorithm is the way to continue from the last results chunk. In this\\nalgorithm, this is achieved by querying the results in the ascending order and using the last timestamp of the previous\\nresults chunk as the start timestamp of the next results chunk.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"However, to avoid any overlaps due to repeated timestamps in multiple rows, we need to always drop the last timestamp\\nin the chunk so that we can fetch results starting from that point to the end of the time range (Line 14–21). There is\\nan inherent limitation because of this approach, which is explained below.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The terminating condition of the querying is detected when the number of returned data is less than the limit specified\\nand if there were no database side limit errors (Line 24–27).\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"Limitations & ways to overcome them\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"While this algorithm will work for many cases, if your data contains multiple repeated timestamps in rows, the\\nalgorithm may fail. This can happen if the limit applied to results chunk is smaller than the maximum number of\\nrepeated timestamps as we are always removing the last. The algorithm will raise an error if this condition is reached\\n(Line 19–20).\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"However, in many real world applications repeating timestamps in multiple events will be rare. However, there can be\\nsome cases where there are repeated timestamps due to the implementation of how these data points were recorded.\\n(e.g.:- multiple sensor readings which has the same timestamp, to simplify the sensor reading implementation, even\\nthough they were actually read at least several milliseconds apart).\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"One approach to overcome these limitations in such scenarios, would be to group these events into a single row using\\nthe time-series database query itself.\"\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsx(_components.h1, {\n      children: \"Conclusion\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"As you have witnessed above, this approach would work with almost any database without any issues.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"However, I would like to emphasize the fact that, \", _jsx(_components.strong, {\n        children: \"we should not try to query all data in this manner unless it is\\nabsolutely necessary\"\n      }), \". Querying data in this manner will put a lot of strain on the database as well as the client.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You should always try to \", _jsx(_components.strong, {\n        children: \"aggregate and process the data within the database itself using database queries\"\n      }), \". Most of\\nthe time-series databases available today includes rich enough syntax to perform such processing at database side\\nitself.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"However, in those rare occasions when you have no other alternative (e.g.:- if you are storing logs in an Azure Data\\nExplorer and would like to implement a logs viewer), hope this approach would save your day.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  return _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  }));\n}\nexport default MDXContent;\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/blog/posts/database-agnosticpagination-of-time-series-results\",\n      function () {\n        return require(\"private-next-pages/blog/posts/database-agnosticpagination-of-time-series-results.mdx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/blog/posts/database-agnosticpagination-of-time-series-results\"])\n      });\n    }\n  "],"names":["BlogPostTitle","children","Typography","variant","component","sx","pt","fontWeight","fontSize","metadata","Container","maxWidth","disableGutters","title","position","height","my","layout","objectFit","src","mainImage","alt","placeholder","blurDataURL","Routes","name","subRoutes","window","trigger","useScrollTrigger","disableHysteresis","threshold","target","undefined","scrollToTopRef","useRef","React","isDrawerOpen","setDrawerOpen","toggleDrawer","useWebsiteTheme","colorScheme","setColorScheme","nextColorScheme","drawer","IconButton","color","onClick","edge","mr","display","xs","md","Menu","Drawer","anchor","open","onClose","Box","width","onKeyDown","List","Object","entries","map","path","route","href","passHref","ListItem","button","ListItemText","primary","appBar","AppBar","Toolbar","flexGrow","Button","disableElevation","pl","Tooltip","marginLeft","size","icon","faMoon","faSun","transform","elevation","ref","overflowX","textAlign","paddingTop","paddingBottom","Zoom","Z","in","current","scrollIntoView","behavior","block","role","bottom","right","Fab","faChevronUp","pathnames","useRouter","pathname","split","filter","x","breadcrumbs","length","visitRoutes","currentRoutes","currentPathnames","currentBasePath","currentSubPath","currentPath","push","slice","Breadcrumbs","margin","separator","faChevronRight","breadcrumb","marginBottom","px","lg","xl","useState","direction","setDirection","offset","setOffset","updateOffset","newOffset","refBBox","getBoundingClientRect","viewportHeight","innerHeight","top","fullPageHeight","document","documentElement","offsetHeight","pageBottomOffset","pageYOffset","clientRectOffset","Math","max","handleScroll","requestAnimationFrame","useEffect","addEventListener","removeEventListener","min","meta","publishedDate","description","source","author","authorUrl","sourceUrl","MDXLayout","_jsx","BlogPostLayout","_createMdxContent","props","_components","assign","p","strong","hr","img","h1","ul","li","em","pre","code","_provideComponents","components","_jsxs","_Fragment","__NEXT_P"],"sourceRoot":""}