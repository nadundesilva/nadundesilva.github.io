(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[587],{3046:function(n,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/posts/reading-java-annotations-on-the-fly",function(){return a(4962)}])},4962:function(n,e,a){"use strict";a.r(e),a.d(e,{meta:function(){return l}});var s=a(5893),t=a(1151),c=a(2664),l={title:"Reading Java Annotations on the fly",publishedDate:"2018-10-25",description:"Using Java Reflections API to read annotations and perform actions based on them.",mainImage:{src:"/assets/blog/reading-java-annotations-on-the-fly/main.jpeg",alt:"Reading Java Annotations on the fly - Main Image",blurDataURL:"data:image/webp;base64,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",source:{author:"Cl\xe9ment H\xe9lardot",authorUrl:"https://medium.com/r/?url=https%3A%2F%2Funsplash.com%2F%40clemhlrdt%3Futm_source%3Dunsplash%26utm_medium%3Dreferral%26utm_content%3DcreditCopyText",source:"Unsplash",sourceUrl:"https://medium.com/r/?url=https%3A%2F%2Funsplash.com%2Fs%2Fphotos%2Fprogramming%3Futm_source%3Dunsplash%26utm_medium%3Dreferral%26utm_content%3DcreditCopyText"}}},o=function(n){var e=n.children;return(0,s.jsx)(c.Bf,{metadata:l,children:e})};function i(n){var e=Object.assign({p:"p",hr:"hr",h1:"h1",a:"a",code:"code",pre:"pre",span:"span",h2:"h2"},(0,t.ah)(),n.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:"Java Reflections API allows the code you write to inspect another piece of code. This gives you immense power over the\nprograms you write, even to the extent of invoking private functions in a class. However, this kind of usage of the\nJava Reflections API is highly discouraged."}),"\n",(0,s.jsx)(e.p,{children:"In this post, we will be focusing on using the Java reflections API for reading the annotations applied to a class.\nThis can be useful if your code needs data that is stored in the annotations applied such as metadata for configuring\na library you are implementing. However, you should note that using the reflections API can have a performance impact\nand you should try as much as possible to use it less often (For example, if you are working on a performance critical\nsystem which needs the annotated data frequently, a possible solution might be to read the annotations at startup of\nthe program and store them in memory to be accessed later.)"}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h1,{children:"Letâ€™s start Coding"}),"\n",(0,s.jsx)(e.p,{children:"For us to use the reflections API to read annotations, the annotations should be stored in the class files by the\ncompiler and loaded into the JVM at run-time."}),"\n",(0,s.jsxs)(e.p,{children:["Annotations by default are retained in the class files but they are not loaded into the JVM at run-time. Therefore to\nmake sure that the annotations are stored in the class files and that they are loaded into the JVM at run-time, the\n",(0,s.jsxs)(e.a,{href:"https://docs.oracle.com/javase/7/docs/api/java/lang/annotation/RetentionPolicy.html#RUNTIME",children:[(0,s.jsx)(e.code,{children:"@Retention(RetentionPolicy.RUNTIME"}),")"]}),"\nannotation needs to be applied to the declaration of the annotation that you wish to read at compile time."]}),"\n",(0,s.jsx)(e.pre,{className:"language-java",children:(0,s.jsxs)(e.code,{className:"language-java code-highlight",children:[(0,s.jsxs)(e.span,{className:"code-line line-number",line:"1",children:[(0,s.jsx)(e.span,{className:"token annotation punctuation",children:"@Retention"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token class-name",children:"RetentionPolicy"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),"RUNTIME",(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"2",children:[(0,s.jsx)(e.span,{className:"token keyword",children:"public"})," ",(0,s.jsx)(e.span,{className:"token annotation punctuation",children:"@interface"})," ",(0,s.jsx)(e.span,{className:"token class-name",children:"RuntimeRetainedAnnotation"})," ",(0,s.jsx)(e.span,{className:"token punctuation",children:"{"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"3",children:["    ",(0,s.jsx)(e.span,{className:"token class-name",children:"String"})," ",(0,s.jsx)(e.span,{className:"token function",children:"foo"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"4",children:["    ",(0,s.jsx)(e.span,{className:"token keyword",children:"int"})," ",(0,s.jsx)(e.span,{className:"token function",children:"bar"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"5",children:[(0,s.jsx)(e.span,{className:"token punctuation",children:"}"}),"\n"]})]})}),"\n",(0,s.jsxs)(e.p,{children:["Now, any data annotated with the ",(0,s.jsx)(e.code,{children:"@RuntimeRetainedAnnotation"})," annotation can be read at runtime, using Java\nreflections."]}),"\n",(0,s.jsxs)(e.p,{children:["If you want to learn more about writing your own annotations, check my post explaining how to write Java\n",(0,s.jsx)(e.a,{href:"/blog/posts/unleashing-the-power-of-java-custom-annotations",children:"Custom Annotations"}),"."]}),"\n",(0,s.jsx)(e.h2,{children:"Reading Annotations"}),"\n",(0,s.jsxs)(e.p,{children:["All the elements to which annotations can be applied, by default implements the ",(0,s.jsx)(e.code,{children:"AnnotatedElement"})," interface. The\n",(0,s.jsx)(e.code,{children:"AnnotatedElement"})," interface has all the methods that are required for reading the annotations. Therefore for reading\nannotations we first need to get hold of the annotated element which contains the annotations that you wish to inspect."]}),"\n",(0,s.jsx)(e.h2,{children:"Getting hold of the Annotated Element"}),"\n",(0,s.jsx)(e.p,{children:"Getting hold of the annotation element can be done using the Java Reflections API as well."}),"\n",(0,s.jsxs)(e.p,{children:["To show how to get hold of the Annotated Element, we will be using the following class as an example. Note that we need\nto get hold of the ",(0,s.jsx)(e.code,{children:"fooValue"})," parameter in the ",(0,s.jsx)(e.code,{children:"setFoo(Integer fooValue)"})," method which is the annotated element that we\nneed."]}),"\n",(0,s.jsx)(e.pre,{className:"language-java",children:(0,s.jsxs)(e.code,{className:"language-java code-highlight",children:[(0,s.jsxs)(e.span,{className:"code-line line-number",line:"1",children:[(0,s.jsx)(e.span,{className:"token keyword",children:"public"})," ",(0,s.jsx)(e.span,{className:"token keyword",children:"class"})," ",(0,s.jsx)(e.span,{className:"token class-name",children:"MyClass"})," ",(0,s.jsx)(e.span,{className:"token punctuation",children:"{"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"2",children:["    ",(0,s.jsx)(e.span,{className:"token keyword",children:"private"})," ",(0,s.jsx)(e.span,{className:"token class-name",children:"Integer"})," fooValue",(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsx)(e.span,{className:"code-line line-number",line:"3",children:"\n"}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"4",children:["    ",(0,s.jsx)(e.span,{className:"token keyword",children:"public"})," ",(0,s.jsx)(e.span,{className:"token keyword",children:"void"})," ",(0,s.jsx)(e.span,{className:"token function",children:"setFoo"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token annotation punctuation",children:"@MyAnnotation"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),"bar ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," ",(0,s.jsx)(e.span,{className:"token string",children:'"BarValue"'}),(0,s.jsx)(e.span,{className:"token punctuation",children:","})," maxLength ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," ",(0,s.jsx)(e.span,{className:"token number",children:"200"}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"})," ",(0,s.jsx)(e.span,{className:"token class-name",children:"Integer"})," fooValue",(0,s.jsx)(e.span,{className:"token punctuation",children:")"})," ",(0,s.jsx)(e.span,{className:"token punctuation",children:"{"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"5",children:["        ",(0,s.jsx)(e.span,{className:"token keyword",children:"this"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),"fooValue ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," fooValue",(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"6",children:["    ",(0,s.jsx)(e.span,{className:"token punctuation",children:"}"}),"\n"]}),(0,s.jsx)(e.span,{className:"code-line line-number",line:"7",children:"\n"}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"8",children:["    ",(0,s.jsx)(e.span,{className:"token comment",children:"// Other Class Elements"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"9",children:[(0,s.jsx)(e.span,{className:"token punctuation",children:"}"}),"\n"]})]})}),"\n",(0,s.jsx)(e.p,{children:"You first need to get hold of the Class object. Which can be done as shown below."}),"\n",(0,s.jsx)(e.pre,{className:"language-java",children:(0,s.jsx)(e.code,{className:"language-java code-highlight",children:(0,s.jsxs)(e.span,{className:"code-line line-number",line:"1",children:[(0,s.jsx)(e.span,{className:"token class-name",children:"Class"})," classElement ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," ",(0,s.jsx)(e.span,{className:"token class-name",children:"MyClass"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token keyword",children:"class"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]})})}),"\n",(0,s.jsxs)(e.p,{children:["After getting hold of the class, you can inspect its elements to get hold of the Annotated Element. Since you know the\nClass you can directly access the ",(0,s.jsx)(e.code,{children:"setFoo(int fooValue)"})," method and from that the ",(0,s.jsx)(e.code,{children:"fooValue"})," parameter as shown below."]}),"\n",(0,s.jsx)(e.pre,{className:"language-java",children:(0,s.jsxs)(e.code,{className:"language-java code-highlight",children:[(0,s.jsxs)(e.span,{className:"code-line line-number",line:"1",children:[(0,s.jsx)(e.span,{className:"token class-name",children:"Parameter"})," fooValueParameter ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," ",(0,s.jsx)(e.span,{className:"token keyword",children:"null"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"2",children:[(0,s.jsx)(e.span,{className:"token keyword",children:"try"})," ",(0,s.jsx)(e.span,{className:"token punctuation",children:"{"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"3",children:["    ",(0,s.jsx)(e.span,{className:"token comment",children:"// Getting the method object"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"4",children:["    ",(0,s.jsx)(e.span,{className:"token class-name",children:"Class"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"["}),(0,s.jsx)(e.span,{className:"token punctuation",children:"]"})," args ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," ",(0,s.jsx)(e.span,{className:"token keyword",children:"new"})," ",(0,s.jsx)(e.span,{className:"token class-name",children:"Class"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"["}),(0,s.jsx)(e.span,{className:"token number",children:"1"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"]"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"5",children:["    args",(0,s.jsx)(e.span,{className:"token punctuation",children:"["}),(0,s.jsx)(e.span,{className:"token number",children:"0"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"]"})," ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," ",(0,s.jsx)(e.span,{className:"token class-name",children:"Integer"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token keyword",children:"class"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"6",children:["    ",(0,s.jsx)(e.span,{className:"token class-name",children:"Method"})," setFooMethod ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," classElement",(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token function",children:"getMethod"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token string",children:'"setFoo"'}),(0,s.jsx)(e.span,{className:"token punctuation",children:","})," args",(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsx)(e.span,{className:"code-line line-number",line:"7",children:"\n"}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"8",children:["    ",(0,s.jsx)(e.span,{className:"token comment",children:"// Getting the parameter object"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"9",children:["    fooValueParameter ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," method",(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token function",children:"getParameters"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"["}),(0,s.jsx)(e.span,{className:"token number",children:"0"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"]"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"10",children:[(0,s.jsx)(e.span,{className:"token punctuation",children:"}"})," ",(0,s.jsx)(e.span,{className:"token keyword",children:"catch"})," ",(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"})," ",(0,s.jsx)(e.span,{className:"token punctuation",children:"{"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"11",children:["    ",(0,s.jsx)(e.span,{className:"token comment",children:"// Handle Exception"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"12",children:[(0,s.jsx)(e.span,{className:"token punctuation",children:"}"}),"\n"]})]})}),"\n",(0,s.jsx)(e.p,{children:"Please note that depending on the element that is annotated you may have to call several methods to get hold of the\nelement which could be different from what is shown above. But you can find all the relevant methods in the Reflection\nmethods provided in Java."}),"\n",(0,s.jsxs)(e.p,{children:["All the methods that can be used are not included here and only guidance is provided for getting hold of the relevant\n",(0,s.jsx)(e.code,{children:"AnnotatedElement"}),". You can find the relevant methods in Java documentation for each element when you need to access\nanother element."]}),"\n",(0,s.jsx)(e.h2,{children:"Reading the Annotations applied to an Annotated Element"}),"\n",(0,s.jsx)(e.p,{children:"Now that you have the parameter object you can now get the annotation added to this element."}),"\n",(0,s.jsxs)(e.p,{children:["As mentioned before all classes implementing the ",(0,s.jsx)(e.code,{children:"AnnotatedElement"})," interface contains all the relevant methods required\nfor reading annotations and all the classes of the objects we got hold of before implements it like many other elements\nthat can be acquired in that manner."]}),"\n",(0,s.jsxs)(e.p,{children:["Let's assume that the ",(0,s.jsx)(e.code,{children:"MyAnnotation"})," annotation added to the ",(0,s.jsx)(e.code,{children:"fooValue"})," parameter is defined as shown below."]}),"\n",(0,s.jsx)(e.pre,{className:"language-java",children:(0,s.jsxs)(e.code,{className:"language-java code-highlight",children:[(0,s.jsxs)(e.span,{className:"code-line line-number",line:"1",children:[(0,s.jsx)(e.span,{className:"token annotation punctuation",children:"@Retention"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token class-name",children:"RetentionPolicy"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),"RUNTIME",(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"2",children:[(0,s.jsx)(e.span,{className:"token keyword",children:"public"})," ",(0,s.jsx)(e.span,{className:"token annotation punctuation",children:"@interface"})," ",(0,s.jsx)(e.span,{className:"token class-name",children:"MyAnnotation"})," ",(0,s.jsx)(e.span,{className:"token punctuation",children:"{"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"3",children:["    ",(0,s.jsx)(e.span,{className:"token class-name",children:"String"})," ",(0,s.jsx)(e.span,{className:"token function",children:"bar"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"4",children:["    ",(0,s.jsx)(e.span,{className:"token keyword",children:"int"})," ",(0,s.jsx)(e.span,{className:"token function",children:"maxLength"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"5",children:[(0,s.jsx)(e.span,{className:"token punctuation",children:"}"}),"\n"]})]})}),"\n",(0,s.jsxs)(e.p,{children:["Since you have got hold of the ",(0,s.jsx)(e.code,{children:"Parameter"})," object before, you can now do the following to read the ",(0,s.jsx)(e.code,{children:"bar"})," and\n",(0,s.jsx)(e.code,{children:"maxLength"})," values annotated in the parameter."]}),"\n",(0,s.jsx)(e.pre,{className:"language-java",children:(0,s.jsxs)(e.code,{className:"language-java code-highlight",children:[(0,s.jsxs)(e.span,{className:"code-line line-number",line:"1",children:[(0,s.jsx)(e.span,{className:"token class-name",children:"MyAnnotation"})," annotation ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," fooValueParameter",(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token function",children:"getAnnotation"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token class-name",children:"MyAnnotation"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token keyword",children:"class"}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"2",children:[(0,s.jsx)(e.span,{className:"token class-name",children:"String"})," bar ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," annotation",(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token function",children:"bar"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"3",children:[(0,s.jsx)(e.span,{className:"token keyword",children:"int"})," maxLength ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," annotation",(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token function",children:"maxLength"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]})]})}),"\n",(0,s.jsx)(e.h2,{children:"Reading Repeatable Annotations"}),"\n",(0,s.jsx)(e.p,{children:"Before reading this section, if you are not familiar with Repeatable Annotations you can read the repeatable\nannotations section in my post; Java Custom Annotations."}),"\n",(0,s.jsx)(e.p,{children:"We will be using the following annotation declaration and class as an example."}),"\n",(0,s.jsx)(e.pre,{className:"language-java",children:(0,s.jsxs)(e.code,{className:"language-java code-highlight",children:[(0,s.jsxs)(e.span,{className:"code-line line-number",line:"1",children:[(0,s.jsx)(e.span,{className:"token keyword",children:"public"})," ",(0,s.jsx)(e.span,{className:"token annotation punctuation",children:"@interface"})," ",(0,s.jsx)(e.span,{className:"token class-name",children:"Parameters"})," ",(0,s.jsx)(e.span,{className:"token punctuation",children:"{"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"2",children:["    ",(0,s.jsx)(e.span,{className:"token class-name",children:"Parameter"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"["}),(0,s.jsx)(e.span,{className:"token punctuation",children:"]"})," ",(0,s.jsx)(e.span,{className:"token function",children:"value"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"3",children:[(0,s.jsx)(e.span,{className:"token punctuation",children:"}"}),"\n"]}),(0,s.jsx)(e.span,{className:"code-line line-number",line:"4",children:"\n"}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"5",children:[(0,s.jsx)(e.span,{className:"token annotation punctuation",children:"@Repeatable"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token class-name",children:"Parameters"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token keyword",children:"class"}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"6",children:[(0,s.jsx)(e.span,{className:"token keyword",children:"public"})," ",(0,s.jsx)(e.span,{className:"token annotation punctuation",children:"@interface"})," ",(0,s.jsx)(e.span,{className:"token class-name",children:"Parameter"})," ",(0,s.jsx)(e.span,{className:"token punctuation",children:"{"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"7",children:["    ",(0,s.jsx)(e.span,{className:"token class-name",children:"String"})," ",(0,s.jsx)(e.span,{className:"token function",children:"name"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"8",children:["    ",(0,s.jsx)(e.span,{className:"token class-name",children:"String"})," ",(0,s.jsx)(e.span,{className:"token function",children:"type"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"9",children:[(0,s.jsx)(e.span,{className:"token punctuation",children:"}"}),"\n"]}),(0,s.jsx)(e.span,{className:"code-line line-number",line:"10",children:"\n"}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"11",children:[(0,s.jsx)(e.span,{className:"token annotation punctuation",children:"@Parameter"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),"name ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," ",(0,s.jsx)(e.span,{className:"token string",children:'"timestamp"'}),(0,s.jsx)(e.span,{className:"token punctuation",children:","})," type ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," ",(0,s.jsx)(e.span,{className:"token string",children:'"datetime"'}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"12",children:[(0,s.jsx)(e.span,{className:"token annotation punctuation",children:"@Parameter"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),"name ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," ",(0,s.jsx)(e.span,{className:"token string",children:'"username"'}),(0,s.jsx)(e.span,{className:"token punctuation",children:","})," type ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," ",(0,s.jsx)(e.span,{className:"token string",children:'"string"'}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"13",children:[(0,s.jsx)(e.span,{className:"token keyword",children:"public"})," ",(0,s.jsx)(e.span,{className:"token keyword",children:"class"})," ",(0,s.jsx)(e.span,{className:"token class-name",children:"FunctionOperation"})," ",(0,s.jsx)(e.span,{className:"token punctuation",children:"{"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"14",children:["    ",(0,s.jsx)(e.span,{className:"token comment",children:"// Class Elements"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"15",children:[(0,s.jsx)(e.span,{className:"token punctuation",children:"}"}),"\n"]})]})}),"\n",(0,s.jsxs)(e.p,{children:["To access the annotation object in the ",(0,s.jsx)(e.code,{children:"FunctionOperation"})," class we can do the following."]}),"\n",(0,s.jsx)(e.pre,{className:"language-java",children:(0,s.jsxs)(e.code,{className:"language-java code-highlight",children:[(0,s.jsxs)(e.span,{className:"code-line line-number",line:"1",children:[(0,s.jsx)(e.span,{className:"token class-name",children:"Class"})," classElement ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," ",(0,s.jsx)(e.span,{className:"token class-name",children:"FunctionOperation"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token keyword",children:"class"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"2",children:[(0,s.jsx)(e.span,{className:"token class-name",children:"Parameters"})," parameters ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," classElement",(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token function",children:"getAnnotation"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token class-name",children:"Parameters"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token keyword",children:"class"}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"3",children:[(0,s.jsx)(e.span,{className:"token class-name",children:"Parameter"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"["}),(0,s.jsx)(e.span,{className:"token punctuation",children:"]"})," parameterArray ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," parameters",(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token function",children:"value"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"4",children:[(0,s.jsx)(e.span,{className:"token class-name",children:"String"})," timestampName ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," parameterArray",(0,s.jsx)(e.span,{className:"token punctuation",children:"["}),(0,s.jsx)(e.span,{className:"token number",children:"0"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"]"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token function",children:"name"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"5",children:[(0,s.jsx)(e.span,{className:"token class-name",children:"String"})," timestampType ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," parameterArray",(0,s.jsx)(e.span,{className:"token punctuation",children:"["}),(0,s.jsx)(e.span,{className:"token number",children:"0"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"]"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token function",children:"type"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"6",children:[(0,s.jsx)(e.span,{className:"token class-name",children:"String"})," usernameName ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," parameterArray",(0,s.jsx)(e.span,{className:"token punctuation",children:"["}),(0,s.jsx)(e.span,{className:"token number",children:"1"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"]"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token function",children:"name"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"7",children:[(0,s.jsx)(e.span,{className:"token class-name",children:"String"})," usernameType ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," parameterArray",(0,s.jsx)(e.span,{className:"token punctuation",children:"["}),(0,s.jsx)(e.span,{className:"token number",children:"1"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"]"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token function",children:"type"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]})]})}),"\n",(0,s.jsxs)(e.p,{children:["Note that ",(0,s.jsx)(e.code,{children:"Parameters"})," is the container annotation type of ",(0,s.jsx)(e.code,{children:"Parameter"})," annotation type and that you have to access the\nrepeated annotations using container annotation."]}),"\n",(0,s.jsx)(e.p,{children:"If thereâ€™s only a single repeatable annotation applied to the class as shown below, the way you can access the\nannotation is a bit different."}),"\n",(0,s.jsx)(e.pre,{className:"language-java",children:(0,s.jsxs)(e.code,{className:"language-java code-highlight",children:[(0,s.jsxs)(e.span,{className:"code-line line-number",line:"1",children:[(0,s.jsx)(e.span,{className:"token annotation punctuation",children:"@Parameter"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),"name ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," ",(0,s.jsx)(e.span,{className:"token string",children:'"username"'}),(0,s.jsx)(e.span,{className:"token punctuation",children:","})," type ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," ",(0,s.jsx)(e.span,{className:"token string",children:'"string"'}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"2",children:[(0,s.jsx)(e.span,{className:"token keyword",children:"public"})," ",(0,s.jsx)(e.span,{className:"token keyword",children:"class"})," ",(0,s.jsx)(e.span,{className:"token class-name",children:"FunctionOperation"})," ",(0,s.jsx)(e.span,{className:"token punctuation",children:"{"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"3",children:["    ",(0,s.jsx)(e.span,{className:"token comment",children:"// Class Elements"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"4",children:[(0,s.jsx)(e.span,{className:"token punctuation",children:"}"}),"\n"]})]})}),"\n",(0,s.jsxs)(e.p,{children:["If this is the case if you access the container annotation you will get ",(0,s.jsx)(e.code,{children:"null"}),". Therefore you need to access the\nannotation the same way you did for non-repeatable annotations."]}),"\n",(0,s.jsx)(e.pre,{className:"language-java",children:(0,s.jsxs)(e.code,{className:"language-java code-highlight",children:[(0,s.jsxs)(e.span,{className:"code-line line-number",line:"1",children:[(0,s.jsx)(e.span,{className:"token class-name",children:"Class"})," classElement ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," ",(0,s.jsx)(e.span,{className:"token class-name",children:"FunctionOperation"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token keyword",children:"class"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"2",children:[(0,s.jsx)(e.span,{className:"token class-name",children:"Parameter"})," parameter ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," classElement",(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token function",children:"getAnnotation"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token class-name",children:"Parameter"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token keyword",children:"class"}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"3",children:[(0,s.jsx)(e.span,{className:"token class-name",children:"String"})," name ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," parameter",(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token function",children:"name"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]}),(0,s.jsxs)(e.span,{className:"code-line line-number",line:"4",children:[(0,s.jsx)(e.span,{className:"token class-name",children:"String"})," type ",(0,s.jsx)(e.span,{className:"token operator",children:"="})," parameter",(0,s.jsx)(e.span,{className:"token punctuation",children:"."}),(0,s.jsx)(e.span,{className:"token function",children:"type"}),(0,s.jsx)(e.span,{className:"token punctuation",children:"("}),(0,s.jsx)(e.span,{className:"token punctuation",children:")"}),(0,s.jsx)(e.span,{className:"token punctuation",children:";"}),"\n"]})]})}),"\n",(0,s.jsx)(e.p,{children:"That concludes this post. Please feel free to contact me if there are any problems."})]})}e.default=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.jsx)(o,Object.assign({},n,{children:(0,s.jsx)(i,n)}))}}},function(n){n.O(0,[794,664,774,888,179],function(){return n(n.s=3046)}),_N_E=n.O()}]);
//# sourceMappingURL=reading-java-annotations-on-the-fly-5a53e94e50df7bf5.js.map